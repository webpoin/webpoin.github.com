define(function(n){var t=n("jquery");(function(){function f(n,t){var i;n||(n={});for(i in t)n[i]=t[i];return n}function ni(){for(var n=0,t=arguments,r=t.length,i={};n<r;n++)i[t[n++]]=t[n];return i}function h(n,t){return parseInt(n,t||10)}function ti(n){return typeof n=="string"}function st(n){return typeof n=="object"}function rr(n){return Object.prototype.toString.call(n)==="[object Array]"}function ki(n){return typeof n=="number"}function ii(n){return b.log(n)/b.LN10}function lt(n){return b.pow(10,n)}function hi(n,t){for(var i=n.length;i--;)if(n[i]===t){n.splice(i,1);break}}function i(n){return n!==e&&n!==null}function s(n,t,r){var u,f;if(ti(t))i(r)?n.setAttribute(t,r):n&&n.getAttribute&&(f=n.getAttribute(t));else if(i(t)&&st(t))for(u in t)n.setAttribute(u,t[u]);return f}function ri(n){return rr(n)?n:[n]}function n(){for(var i=arguments,t,r=i.length,n=0;n<r;n++)if(t=i[n],typeof t!="undefined"&&t!==null)return t}function y(n,t){nr&&t&&t.opacity!==e&&(t.filter="alpha(opacity="+t.opacity*100+")");f(n.style,t)}function rt(n,t,i,r,u){return n=c.createElement(n),t&&f(n,t),u&&y(n,{padding:0,border:tt,margin:0}),i&&y(n,i),r&&r.appendChild(n),n}function at(n,t){var i=function(){};return i.prototype=new n,f(i.prototype,t),i}function ur(n,t,i,r){var f=nt.lang,u=n;t===-1?(t=(n||0).toString(),n=t.indexOf(".")>-1?t.split(".")[1].length:0):n=isNaN(t=k(t))?2:t;var t=n,i=i===void 0?f.decimalPoint:i,r=r===void 0?f.thousandsSep:r,f=u<0?"-":"",n=String(h(u=k(+u||0).toFixed(t))),e=n.length>3?n.length%3:0;return f+(e?n.substr(0,e)+r:"")+n.substr(e).replace(/(\d{3})(?=\d)/g,"$1"+r)+(t?i+k(u-n).toFixed(t).slice(2):"")}function ci(n,t){return Array((t||2)+1-String(n).length).join(0)+n}function ou(t,i,r,u){var f,r=n(r,1);for(f=t/r,i||(i=[1,2,2.5,5,10],u&&u.allowDecimals===!1&&(r===1?i=[1,2,5,10]:r<=.1&&(i=[1/r]))),u=0;u<i.length;u++)if(t=i[u],f<=(i[u]+(i[u+1]||i[u]))/2)break;return t*r}function uf(n,t){for(var i=t||[[vf,[1,2,5,10,20,25,50,100,200,500]],[bu,[1,2,5,10,15,30]],[gr,[1,2,5,10,15,30]],[lr,[1,2,3,4,6,8,12]],[oi,[1,2]],[nu,[1,2]],[ar,[1,2,3,4,6]],[bi,null]],u=i[i.length-1],r=l[u[0]],f=u[1],e=0;e<i.length;e++)if(u=i[e],r=l[u[0]],f=u[1],i[e+1]&&n<=(r*f[f.length-1]+l[i[e+1][0]])/2)break;return r===l[bi]&&n<5*r&&(f=[1,2,5]),r===l[bi]&&n<5*r&&(f=[1,2,5]),i=ou(n/r,f),{unitRange:r,count:i,unitName:u[0]}}function ff(t,r,u,e){var a=[],v={},y=nt.global.useUTC,c,o=new Date(r),s=t.unitRange,h=t.count;if(i(r)){s>=l[bu]&&(o.setMilliseconds(0),o.setSeconds(s>=l[gr]?0:h*ut(o.getSeconds()/h)));s>=l[gr]&&o[yf](s>=l[lr]?0:h*ut(o[du]()/h));s>=l[lr]&&o[pf](s>=l[oi]?0:h*ut(o[gu]()/h));s>=l[oi]&&o[tf](s>=l[ar]?1:h*ut(o[vr]()/h));s>=l[ar]&&(o[wf](s>=l[bi]?0:h*ut(o[iu]()/h)),c=o[ru]());s>=l[bi]&&(c-=c%h,o[bf](c));s===l[nu]&&o[tf](o[vr]()-o[nf]()+n(e,1));r=1;c=o[ru]();for(var e=o.getTime(),p=o[iu](),w=o[vr](),o=y?0:(864e5+o.getTimezoneOffset()*6e4)%864e5;e<u;)a.push(e),s===l[bi]?e=tu(c+r*h,0):s===l[ar]?e=tu(c,p+r*h):!y&&(s===l[oi]||s===l[nu])?e=tu(c,p,w+r*h*(s===l[oi]?1:7)):(e+=s*h,s<=l[lr]&&e%l[oi]===o&&(v[e]=oi)),r++;a.push(e)}return a.info=f(t,{higherRanks:v,totalRange:s*h}),a}function ef(){this.symbol=this.color=0}function of(n,t){for(var u=n.length,r,i=0;i<u;i++)n[i].ss_i=i;for(n.sort(function(n,i){return r=t(n,i),r===0?n.ss_i-i.ss_i:r}),i=0;i<u;i++)delete n[i].ss_i}function di(n){for(var t=n.length,i=n[0];t--;)n[t]<i&&(i=n[t]);return i}function li(n){for(var t=n.length,i=n[0];t--;)n[t]>i&&(i=n[t]);return i}function gi(n,t){for(var i in n)n[i]&&n[i]!==t&&n[i].destroy&&n[i].destroy(),delete n[i]}function fr(n){kr||(kr=rt(bt));n&&kr.appendChild(n);kr.innerHTML=""}function er(n,t){var i="Highcharts error #"+n+": www.highcharts.com/errors/"+n;if(t)throw i;else w.console&&console.log(i)}function wt(n){return parseFloat(n.toPrecision(14))}function ai(t,i){cr=n(t,i.animation)}function sf(){var r=nt.global.useUTC,t=r?"getUTC":"get",i=r?"setUTC":"set";tu=r?Date.UTC:function(t,i,r,u,f,e){return new Date(t,i,n(r,1),n(u,0),n(f,0),n(e,0)).getTime()};du=t+"Minutes";gu=t+"Hours";nf=t+"Day";vr=t+"Date";iu=t+"Month";ru=t+"FullYear";yf=i+"Minutes";pf=i+"Hours";tf=i+"Date";wf=i+"Month";bf=i+"FullYear"}function vi(){}function or(n,t,i){this.axis=n;this.pos=t;this.type=i||"";this.isNew=!0;i||this.addLabel()}function su(n,t){return this.axis=n,t&&(this.options=t,this.id=t.id),this}function hf(t,i,r,u,f,e){var o=t.chart.inverted;this.axis=t;this.isNegative=r;this.options=i;this.x=u;this.stack=f;this.percent=e==="percent";this.alignOptions={align:i.align||(o?r?"left":"right":"center"),verticalAlign:i.verticalAlign||(o?"middle":r?"bottom":"top"),y:n(i.y,o?4:r?14:-6),x:n(i.x,o?r?-6:6:0)};this.textAlign=i.textAlign||(o?r?"right":"left":"center")}function hu(){this.init.apply(this,arguments)}function cu(n,t){var r=t.borderWidth,i=t.style,u=h(i.padding);this.chart=n;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=n.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:u,fill:t.backgroundColor,"stroke-width":r,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).hide().add();et||this.label.shadow(t.shadow);this.shared=t.shared}function lu(n,t){var i=et?"":t.chart.zoomType;this.zoomX=/x/.test(i);this.zoomY=/y/.test(i);this.options=t;this.chart=n;this.init(n,t.tooltip)}function au(n){this.init(n)}function vu(){this.init.apply(this,arguments)}var e,c=document,w=window,b=Math,r=b.round,ut=b.floor,yi=b.ceil,u=b.max,g=b.min,k=b.abs,ft=b.cos,ht=b.sin,pi=b.PI,pr=pi/180,ui=navigator.userAgent,cf=w.opera,nr=/msie/i.test(ui)&&!cf,sr=c.documentMode===8,wr=/AppleWebKit/.test(ui),br=/Firefox/.test(ui),lf=/(Mobile|Android|Windows Phone)/.test(ui),fi="http://www.w3.org/2000/svg",vt=!!c.createElementNS&&!!c.createElementNS(fi,"svg").createSVGRect,ne=br&&parseInt(ui.split("Firefox/")[1],10)<4,et=!vt&&!nr&&!!c.createElement("canvas").getContext,hr,wi=c.documentElement.ontouchstart!==e,af={},yu=0,kr,nt,dr,cr,pu,l,ei=function(){},tr=[],bt="div",tt="none",wu="rgba(192,192,192,"+(vt?.0001:.002)+")",vf="millisecond",bu="second",gr="minute",lr="hour",oi="day",nu="week",ar="month",bi="year",ku="stroke-width",tu,du,gu,nf,vr,iu,ru,yf,pf,tf,wf,bf,ct={},v,ot,yt,kt,dt,gt,eu,gf,ir,d,si,pt;w.Highcharts={};dr=function(t,u,f){if(!i(u)||isNaN(u))return u;var t=n(t,"%Y-%m-%d %H:%M:%S"),e=new Date(u),s,o=e[gu](),l=e[nf](),a=e[vr](),h=e[iu](),v=e[ru](),c=nt.lang,y=c.weekdays,u={a:y[l].substr(0,3),A:y[l],d:ci(a),e:a,b:c.shortMonths[h],B:c.months[h],m:ci(h+1),y:v.toString().substr(2,2),Y:v,H:ci(o),I:ci(o%12||12),l:o%12||12,M:ci(e[du]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:ci(e.getSeconds()),L:ci(r(u%1e3),3)};for(s in u)for(;t.indexOf("%"+s)!==-1;)t=t.replace("%"+s,u[s]);return f?t.substr(0,1).toUpperCase()+t.substr(1):t};ef.prototype={wrapColor:function(n){this.color>=n&&(this.color=0)},wrapSymbol:function(n){this.symbol>=n&&(this.symbol=0)}};l=ni(vf,1,bu,1e3,gr,6e4,lr,36e5,oi,864e5,nu,6048e5,ar,26784e5,bi,31556952e3);pu={init:function(n,t,i){var t=t||"",r=n.shift,e=t.indexOf("C")>-1,u=e?7:3,f,t=t.split(" "),i=[].concat(i),o,s,h=function(n){for(f=n.length;f--;)n[f]==="M"&&n.splice(f+1,0,n[f+1],n[f+2],n[f+1],n[f+2])};if(e&&(h(t),h(i)),n.isArea&&(o=t.splice(t.length-6,6),s=i.splice(i.length-6,6)),r<=i.length/u)for(;r--;)i=[].concat(i).splice(0,u).concat(i);if(n.shift=0,t.length)for(n=i.length;t.length<n;)r=[].concat(t).splice(t.length-u,u),e&&(r[u-6]=r[u-2],r[u-5]=r[u-1]),t=t.concat(r);return o&&(t=t.concat(o),i=i.concat(s)),[t,i]},step:function(n,t,i,r){var f=[],u=n.length;if(i===1)f=r;else if(u===t.length&&i<1)for(;u--;)r=parseFloat(n[u]),f[u]=isNaN(r)?n[u]:i*parseFloat(t[u]-r)+r;else f=t;return f}},function(n){w.HighchartsAdapter=w.HighchartsAdapter||n&&{init:function(t){var u=n.fx,f=u.step,r,i=n.Tween,o=i&&i.propHooks;n.extend(n.easing,{easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i}});n.each(["cur","_default","width","height"],function(n,t){var r=f,h,s;t==="cur"?r=u.prototype:t==="_default"&&i&&(r=o[t],t="set");(h=r[t])&&(r[t]=function(i){return i=n?i:this,s=i.elem,s.attr?s.attr(i.prop,t==="cur"?e:i.now):h.apply(this,arguments)})});r=function(n){var i=n.elem,r;n.started||(r=t.init(i,i.d,i.toD),n.start=r[0],n.end=r[1],n.started=!0);i.attr("d",t.step(n.start,n.end,n.pos,i.toD))};i?o.d={set:r}:f.d=r;this.each=Array.prototype.forEach?function(n,t){return Array.prototype.forEach.call(n,t)}:function(n,t){for(var i=0,r=n.length;i<r;i++)if(t.call(n[i],n[i],i,n)===!1)return i}},getScript:n.getScript,inArray:n.inArray,adapterRun:function(t,i){return n(t)[i]()},grep:n.grep,map:function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)r[i]=t.call(n[i],n[i],i,n);return r},merge:function(){var t=arguments;return n.extend(!0,null,t[0],t[1],t[2],t[3])},offset:function(t){return n(t).offset()},addEvent:function(t,i,r){n(t).bind(i,r)},removeEvent:function(t,i,r){var u=c.removeEventListener?"removeEventListener":"detachEvent";c[u]&&!t[u]&&(t[u]=function(){});n(t).unbind(i,r)},fireEvent:function(t,i,r,u){var e=n.Event(i),o="detached"+i,s;!nr&&r&&(delete r.layerX,delete r.layerY);f(e,r);t[i]&&(t[o]=t[i],t[i]=null);n.each(["preventDefault","stopPropagation"],function(n,t){var i=e[t];e[t]=function(){try{i.call(e)}catch(n){t==="preventDefault"&&(s=!0)}}});n(t).trigger(e);t[o]&&(t[i]=t[o],t[o]=null);!u||e.isDefaultPrevented()||s||u(e)},washMouseEvent:function(n){var t=n.originalEvent||n;return t.pageX===e&&(t.pageX=n.pageX,t.pageY=n.pageY),t},animate:function(t,i,r){var u=n(t);i.d&&(t.toD=i.d,i.d=1);u.stop();u.animate(i,r)},stop:function(t){n(t).stop()}}}(w.jQuery);yt=w.HighchartsAdapter;v=yt||{};yt&&yt.init.call(yt,pu);var uu=v.adapterRun,te=v.getScript,ie=v.inArray,t=v.each,kf=v.grep,re=v.offset,yr=v.map,o=v.merge,p=v.addEvent,it=v.removeEvent,a=v.fireEvent,df=v.washMouseEvent,rf=v.animate,fu=v.stop,v={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};nt={colors:"#4572A7,#AA4643,#89A54E,#80699B,#3D96AE,#DB843D,#92A8CD,#A47D7C,#B5CA92".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.3.5/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:o(v,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}<\/span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}<\/span>: <b>{point.y}<\/b><br/>',shadow:!0,shared:et,snap:lf?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};ot=nt.plotOptions;yt=ot.line;sf();kt=function(n){var t=[],i;return function(n){(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(n))?t=[h(i[1]),h(i[2]),h(i[3]),parseFloat(i[4],10)]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))&&(t=[h(i[1],16),h(i[2],16),h(i[3],16),1])}(n),{get:function(i){return t&&!isNaN(t[0])?i==="rgb"?"rgb("+t[0]+","+t[1]+","+t[2]+")":i==="a"?t[3]:"rgba("+t.join(",")+")":n},brighten:function(n){if(ki(n)&&n!==0)for(var i=0;i<3;i++)t[i]+=h(n*255),t[i]<0&&(t[i]=0),t[i]>255&&(t[i]=255);return this},setOpacity:function(n){return t[3]=n,this}}};vi.prototype={init:function(n,t){this.element=t==="span"?rt(t):c.createElementNS(fi,t);this.renderer=n;this.attrSetters={}},animate:function(t,i,r){i=n(i,cr,!0);fu(this);i?(i=o(i),r&&(i.complete=r),rf(this,t,i)):(this.attr(t),r&&r())},attr:function(n,t){var r,f,o,b,l=this.element,a=l.nodeName.toLowerCase(),y=this.renderer,v,k=this.attrSetters,p=this.shadows,d,g,w=this;if(ti(n)&&i(t)&&(r=n,n={},n[r]=t),ti(n))r=n,a==="circle"?r={x:"cx",y:"cy"}[r]||r:r==="strokeWidth"&&(r="stroke-width"),w=s(l,r)||this[r]||0,r!=="d"&&r!=="visibility"&&(w=parseFloat(w));else for(r in n)if(v=!1,f=n[r],o=k[r]&&k[r].call(this,f,r),o!==!1){if(o!==e&&(f=o),r==="d")f&&f.join&&(f=f.join(" ")),/(NaN| {2}|^$)/.test(f)&&(f="M 0 0");else if(r==="x"&&a==="text"){for(o=0;o<l.childNodes.length;o++)b=l.childNodes[o],s(b,"x")===s(l,"x")&&s(b,"x",f);this.rotation&&s(l,"transform","rotate("+this.rotation+" "+f+" "+h(n.y||s(l,"y"))+")")}else if(r==="fill")f=y.color(f,l,r);else if(a==="circle"&&(r==="x"||r==="y"))r={x:"cx",y:"cy"}[r]||r;else if(a==="rect"&&r==="r")s(l,{rx:f,ry:f}),v=!0;else if(r==="translateX"||r==="translateY"||r==="rotation"||r==="verticalAlign")v=g=!0;else if(r==="stroke")f=y.color(f,l,r);else if(r==="dashstyle"){if(r="stroke-dasharray",f=f&&f.toLowerCase(),f==="solid")f=tt;else if(f){for(f=f.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),o=f.length;o--;)f[o]=h(f[o])*n["stroke-width"];f=f.join(",")}}else r==="isTracker"?this[r]=f:r==="width"?f=h(f):r==="align"?(r="text-anchor",f={left:"start",center:"middle",right:"end"}[f]):r==="title"&&(o=l.getElementsByTagName("title")[0],o||(o=c.createElementNS(fi,"title"),l.appendChild(o)),o.textContent=f);if(r==="strokeWidth"&&(r="stroke-width"),r==="stroke-width"&&f===0&&(wr||y.forExport)&&(f=1e-6),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(d||(this.symbolAttr(n),d=!0),v=!0),p&&/^(width|height|visibility|x|y|d|transform)$/.test(r))for(o=p.length;o--;)s(p[o],r,r==="height"?u(f-(p[o].cutHeight||0),0):f);(r==="width"||r==="height")&&a==="rect"&&f<0&&(f=0);this[r]=f;g&&this.updateTransform();r==="text"?(f!==this.textStr&&delete this.bBox,this.textStr=f,this.added&&y.buildText(this)):v||s(l,r,f)}return w},symbolAttr:function(i){var r=this;t("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(t){r[t]=n(i[t],r[t])});r.attr({d:r.renderer.symbols[r.symbolName](r.x,r.y,r.width,r.height,r)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":tt)},crisp:function(n,t,i,u,f){var o,h={},e={},s,n=n||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;s=r(n)%2/2;e.x=ut(t||this.x||0)+s;e.y=ut(i||this.y||0)+s;e.width=ut((u||this.width||0)-2*s);e.height=ut((f||this.height||0)-2*s);e.strokeWidth=n;for(o in e)this[o]!==e[o]&&(this[o]=h[o]=e[o]);return h},css:function(n){var t=this.element,t=n&&n.width&&t.nodeName.toLowerCase()==="text",i,r="",u=function(n,t){return"-"+t.toLowerCase()};if(n&&n.color&&(n.fill=n.color),this.styles=n=f(this.styles,n),et&&t&&delete n.width,nr&&!vt)t&&delete n.width,y(this.element,n);else{for(i in n)r+=i.replace(/([A-Z])/g,u)+":"+n[i]+";";this.attr({style:r})}return t&&this.added&&this.renderer.buildText(this),this},on:function(n,t){return wi&&n==="click"&&(this.element.ontouchstart=function(n){n.preventDefault();t()}),this.element["on"+n]=t,this},setRadialReference:function(n){return this.element.radialReference=n,this},translate:function(n,t){return this.attr({translateX:n,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(n){var t=this.element;return(t=n&&t.tagName==="SPAN"&&n.width)&&(delete n.width,this.textWidth=t,this.updateTransform()),this.styles=f(this.styles,n),y(this.element,n),this},htmlGetBBox:function(){var n=this.element,t=this.bBox;return t||(n.nodeName==="text"&&(n.style.position="absolute"),t=this.bBox={x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}),t},htmlUpdateTransform:function(){if(this.added){var w=this.renderer,r=this.element,b=this.translateX||0,k=this.translateY||0,nt=this.x||0,it=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],rt=a&&a!=="left",e=this.shadows;if((b||k)&&(y(r,{marginLeft:b,marginTop:k}),e&&t(e,function(n){y(n,{marginLeft:b+1,marginTop:k+1})})),this.inverted&&t(r.childNodes,function(n){w.invertChild(n,r)}),r.tagName==="SPAN"){var u,p,e=this.rotation,o,f=0,s=1,f=0,d;o=h(this.textWidth);var c=this.xCorr||0,v=this.yCorr||0,g=[e,a,r.innerHTML,this.textWidth].join(",");u={};g!==this.cTT&&(i(e)&&(w.isSVG?(c=nr?"-ms-transform":wr?"-webkit-transform":br?"MozTransform":cf?"-o-transform":"",u[c]=u.transform="rotate("+e+"deg)"):(f=e*pr,s=ft(f),f=ht(f),u.filter=e?["progid:DXImageTransform.Microsoft.Matrix(M11=",s,", M12=",-f,", M21=",f,", M22=",s,", sizingMethod='auto expand')"].join(""):tt),y(r,u)),u=n(this.elemWidth,r.offsetWidth),p=n(this.elemHeight,r.offsetHeight),u>o&&/[ \-]/.test(r.textContent||r.innerText)&&(y(r,{width:o+"px",display:"block",whiteSpace:"normal"}),u=o),o=w.fontMetrics(r.style.fontSize).b,c=s<0&&-u,v=f<0&&-p,d=s*f<0,c+=f*o*(d?1-l:l),v-=s*o*(e?d?l:1-l:1),rt&&(c-=u*l*(s<0?-1:1),e&&(v-=p*l*(f<0?-1:1)),y(r,{textAlign:a})),this.xCorr=c,this.yCorr=v);y(r,{left:nt+c+"px",top:it+v+"px"});wr&&(p=r.offsetHeight);this.cTT=g}}else this.alignOnAdd=!0},updateTransform:function(){var t=this.translateX||0,i=this.translateY||0,r=this.inverted,u=this.rotation,n=[];r&&(t+=this.attr("width"),i+=this.attr("height"));(t||i)&&n.push("translate("+t+","+i+")");r?n.push("rotate(90) scale(-1,1)"):u&&n.push("rotate("+u+" "+(this.x||0)+" "+(this.y||0)+")");n.length&&s(this.element,"transform",n.join(" "))},toFront:function(){var n=this.element;return n.parentNode.appendChild(n),this},align:function(t,i,u){t?(this.alignOptions=t,this.alignByTranslate=i,u||this.renderer.alignedObjects.push(this)):(t=this.alignOptions,i=this.alignByTranslate);var u=n(u,this.renderer),e=t.align,o=t.verticalAlign,s=(u.x||0)+(t.x||0),h=(u.y||0)+(t.y||0),f={};return(e==="right"||e==="center")&&(s+=(u.width-(t.width||0))/{right:1,center:2}[e]),f[i?"translateX":"x"]=r(s),(o==="bottom"||o==="middle")&&(h+=(u.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),f[i?"translateY":"y"]=r(h),this[this.placed?"animate":"attr"](f),this.placed=!0,this.alignAttr=f,this},getBBox:function(){var n=this.bBox,i=this.renderer,t,e=this.rotation,u,r;if(t=this.element,u=this.styles,r=e*pr,!n){if(t.namespaceURI===fi||i.forExport){try{n=t.getBBox?f({},t.getBBox()):{width:t.offsetWidth,height:t.offsetHeight}}catch(o){}(!n||n.width<0)&&(n={width:0,height:0})}else n=this.htmlGetBBox();i.isSVG&&(i=n.width,t=n.height,nr&&u&&u.fontSize==="11px"&&t===22.700000762939453&&(n.height=t=14),e&&(n.width=k(t*ht(r))+k(i*ft(r)),n.height=k(t*ft(r))+k(i*ht(r))));this.bBox=n}return n},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},add:function(n){var r=this.renderer,t=n||r,e=t.element||r.box,o=e.childNodes,f=this.element,u=s(f,"zIndex"),c;if(n&&(this.parentGroup=n),this.parentInverted=n&&n.inverted,this.textStr!==void 0&&r.buildText(this),u&&(t.handleZ=!0,u=h(u)),t.handleZ)for(t=0;t<o.length;t++)if(n=o[t],r=s(n,"zIndex"),n!==f&&(h(r)>u||!i(u)&&i(r))){e.insertBefore(f,n);c=!0;break}return c||e.appendChild(f),this.added=!0,a(this,"add"),this},safeRemoveChild:function(n){var t=n.parentNode;t&&t.removeChild(n)},destroy:function(){var n=this,i=n.element||{},u=n.shadows,f,r;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=null,fu(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(r=0;r<n.stops.length;r++)n.stops[r]=n.stops[r].destroy();n.stops=null}n.safeRemoveChild(i);u&&t(u,function(t){n.safeRemoveChild(t)});hi(n.renderer.alignedObjects,n);for(f in n)delete n[f];return null},empty:function(){for(var n=this.element,t=n.childNodes,i=t.length;i--;)n.removeChild(t[i])},shadow:function(t,i,r){var l=[],e,f,c=this.element,o,h,a,v;if(t){for(h=n(t.width,3),a=(t.opacity||.15)/h,v=this.parentInverted?"(-1,-1)":"("+n(t.offsetX,1)+", "+n(t.offsetY,1)+")",e=1;e<=h;e++)f=c.cloneNode(0),o=h*2+1-2*e,s(f,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*e,"stroke-width":o,transform:"translate"+v,fill:tt}),r&&(s(f,"height",u(s(f,"height")-o,0)),f.cutHeight=o),i?i.element.appendChild(f):c.parentNode.insertBefore(f,c),l.push(f);this.shadows=l}return this}};dt=function(){this.init.apply(this,arguments)};dt.prototype={Element:vi,init:function(n,t,i,r){var e=location,f,u;f=this.createElement("svg").attr({xmlns:fi,version:"1.1"});n.appendChild(f.element);this.isSVG=!0;this.box=f.element;this.boxWrapper=f;this.alignedObjects=[];this.url=(br||wr)&&c.getElementsByTagName("base").length?e.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.defs=this.createElement("defs").add();this.forExport=r;this.gradients={};this.setSize(t,i,!1);br&&n.getBoundingClientRect&&(this.subPixelFix=t=function(){y(n,{left:0,top:0});u=n.getBoundingClientRect();y(n,{left:yi(u.left)-u.left+"px",top:yi(u.top)-u.top+"px"})},t(),p(w,"resize",t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var n=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),gi(this.gradients||{}),this.gradients=null,n&&(this.defs=n.destroy()),this.subPixelFix&&it(w,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(n){var t=new this.Element;return t.init(this,n),t},draw:function(){},buildText:function(i){for(var u=i.element,o=n(i.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"<\/span>").split(/<br.*?>/g),v=u.childNodes,p=/style="([^"]+)"/,b=/href="([^"]+)"/,k=s(u,"x"),f=i.styles,e=f&&f.width&&h(f.width),d=f&&f.lineHeight,l,f=v.length,a=[];f--;)u.removeChild(v[f]);e&&!i.added&&this.box.appendChild(u);o[o.length-1]===""&&o.pop();t(o,function(n,f){var v,g=0,o,n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"<\/span>|||");v=n.split("|||");t(v,function(n){var tt,t,rt,nt,n,it;if((n!==""||v.length===1)&&(tt={},t=c.createElementNS(fi,"tspan"),p.test(n)&&(rt=n.match(p)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),s(t,"style",rt)),b.test(n)&&(s(t,"onclick",'location.href="'+n.match(b)[1]+'"'),y(t,{cursor:"pointer"})),n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),t.appendChild(c.createTextNode(n)),g?tt.dx=3:tt.x=k,g||(f&&(!vt&&i.renderer.forExport&&y(t,{display:"block"}),o=w.getComputedStyle&&h(w.getComputedStyle(l,null).getPropertyValue("line-height")),(!o||isNaN(o))&&((nt=d)||(nt=l.offsetHeight)||(a[f]=u.getBBox?u.getBBox().height:i.renderer.fontMetrics(u.style.fontSize).h,nt=r(a[f]-(a[f-1]||0))||18),o=nt),s(t,"dy",o)),l=t),s(t,tt),u.appendChild(t),g++,e))for(n=n.replace(/([^\^])-/g,"$1- ").split(" "),it=[];n.length||it.length;)delete i.bBox,nt=i.getBBox().width,tt=nt>e,!tt||n.length===1?(n=it,it=[],n.length&&(t=c.createElementNS(fi,"tspan"),s(t,{dy:d||16,x:k}),rt&&s(t,"style",rt),u.appendChild(t),nt>e&&(e=nt))):(t.removeChild(t.firstChild),it.unshift(n.pop())),n.length&&t.appendChild(c.createTextNode(n.join(" ").replace(/- /g,"-")))})})},button:function(n,t,i,r,u,e,s){var h=this.label(n,t,i),l=0,y,w,c,a,v,n={x1:0,y1:0,x2:0,y2:1},u=o(ni(ku,1,"stroke","#999","fill",ni("linearGradient",n,"stops",[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,"style",ni("color","black")),u);return c=u.style,delete u.style,e=o(u,ni("stroke","#68A","fill",ni("linearGradient",n,"stops",[[0,"#FFF"],[1,"#ACF"]])),e),a=e.style,delete e.style,s=o(u,ni("stroke","#68A","fill",ni("linearGradient",n,"stops",[[0,"#9BD"],[1,"#CDF"]])),s),v=s.style,delete s.style,p(h.element,"mouseenter",function(){h.attr(e).css(a)}),p(h.element,"mouseleave",function(){y=[u,e,s][l];w=[c,a,v][l];h.attr(y).css(w)}),h.setState=function(n){(l=n)?n===2&&h.attr(s).css(v):h.attr(u).css(c)},h.on("click",function(){r.call(h)}).attr(u).css(f({cursor:"default"},c))},crispLine:function(n,t){return n[1]===n[4]&&(n[1]=n[4]=r(n[1])-t%2/2),n[2]===n[5]&&(n[2]=n[5]=r(n[2])+t%2/2),n},path:function(n){var t={fill:tt};return rr(n)?t.d=n:st(n)&&f(t,n),this.createElement("path").attr(t)},circle:function(n,t,i){return n=st(n)?n:{x:n,y:t,r:i},this.createElement("circle").attr(n)},arc:function(n,t,i,r,u,f){return st(n)&&(t=n.y,i=n.r,r=n.innerR,u=n.start,f=n.end,n=n.x),this.symbol("arc",n||0,t||0,i||0,i||0,{innerR:r||0,start:u||0,end:f||0})},rect:function(n,t,i,r,f,e){return f=st(n)?n.r:f,f=this.createElement("rect").attr({rx:f,ry:f,fill:tt}),f.attr(st(n)?n:f.crisp(e,n,t,u(i,0),u(r,0)))},setSize:function(t,i,r){var u=this.alignedObjects,f=u.length;for(this.width=t,this.height=i,this.boxWrapper[n(r,!0)?"animate":"attr"]({width:t,height:i});f--;)u[f].align()},g:function(n){var t=this.createElement("g");return i(n)?t.attr({"class":"highcharts-"+n}):t},image:function(n,t,i,r,u){var e={preserveAspectRatio:tt};return arguments.length>1&&f(e,{x:t,y:i,width:r,height:u}),e=this.createElement("image").attr(e),e.element.setAttributeNS?e.element.setAttributeNS("http://www.w3.org/1999/xlink","href",n):e.element.setAttribute("hc-svg-href",n),e},symbol:function(n,t,i,u,e,o){var s,c=this.symbols[n],c=c&&c(r(t),r(i),u,e,o),a=/^url\((.*?)\)$/,h,l;return c?(s=this.path(c),f(s,{symbolName:n,x:t,y:i,width:u,height:e}),o&&f(s,o)):a.test(n)&&(l=function(n,t){n.element&&(n.attr({width:t[0],height:t[1]}),n.alignByTranslate||n.translate(r((u-t[0])/2),r((e-t[1])/2)))},h=n.match(a)[1],n=af[h],s=this.image(h).attr({x:t,y:i}),n?l(s,n):(s.attr({width:0,height:0}),rt("img",{onload:function(){l(s,af[h]=[this.width,this.height])},src:h}))),s},symbols:{circle:function(n,t,i,r){var u=.166*i;return["M",n+i/2,t,"C",n+i+u,t,n+i+u,t+r,n+i/2,t+r,"C",n-u,t+r,n-u,t,n+i/2,t,"Z"]},square:function(n,t,i,r){return["M",n,t,"L",n+i,t,n+i,t+r,n,t+r,"Z"]},triangle:function(n,t,i,r){return["M",n+i/2,t,"L",n+i,t+r,n,t+r,"Z"]},"triangle-down":function(n,t,i,r){return["M",n,t,"L",n+i,t,n+i/2,t+r,"Z"]},diamond:function(n,t,i,r){return["M",n+i/2,t,"L",n+i,t+r/2,n+i/2,t+r,n,t+r/2,"Z"]},arc:function(n,t,i,r,u){var e=u.start,i=u.r||i||r,f=u.end-1e-6,r=u.innerR,o=u.open,s=ft(e),h=ht(e),c=ft(f),f=ht(f),u=u.end-e<pi?0:1;return["M",n+i*s,t+i*h,"A",i,i,0,u,1,n+i*c,t+i*f,o?"M":"L",n+r*c,t+r*f,"A",r,r,0,u,0,n+r*s,t+r*h,o?"":"Z"]}},clipRect:function(n,t,i,r){var u="highcharts-"+yu++,f=this.createElement("clipPath").attr({id:u}).add(this.defs),n=this.rect(n,t,i,r,0).add(f);return n.id=u,n.clipPath=f,n},color:function(n,r,u){var l=this,h,b=/^rgba/,e,a,v,y,p,w,c,o=[];if(n&&n.linearGradient?e="linearGradient":n&&n.radialGradient&&(e="radialGradient"),e){u=n[e];a=l.gradients;y=n.stops;r=r.radialReference;rr(u)&&(n[e]=u={x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientUnits:"userSpaceOnUse"});e==="radialGradient"&&r&&!i(u.gradientUnits)&&f(u,{cx:r[0]-r[2]/2+u.cx*r[2],cy:r[1]-r[2]/2+u.cy*r[2],r:u.r*r[2],gradientUnits:"userSpaceOnUse"});for(c in u)c!=="id"&&o.push(c,u[c]);for(c in y)o.push(y[c]);return o=o.join(","),a[o]?n=a[o].id:(u.id=n="highcharts-"+yu++,a[o]=v=l.createElement(e).attr(u).add(l.defs),v.stops=[],t(y,function(n){b.test(n[1])?(h=kt(n[1]),p=h.get("rgb"),w=h.get("a")):(p=n[1],w=1);n=l.createElement("stop").attr({offset:n[0],"stop-color":p,"stop-opacity":w}).add(v);v.stops.push(n)})),"url("+l.url+"#"+n+")"}return b.test(n)?(h=kt(n),s(r,u+"-opacity",h.get("a")),h.get("rgb")):(r.removeAttribute(u+"-opacity"),n)},text:function(t,i,u,f){var e=nt.chart.style,o=et||!vt&&this.forExport;return f&&!this.forExport?this.html(t,i,u):(i=r(n(i,0)),u=r(n(u,0)),t=this.createElement("text").attr({x:i,y:u,text:t}).css({fontFamily:e.fontFamily,fontSize:e.fontSize}),o&&t.css({position:"absolute"}),t.x=i,t.y=u,t)},html:function(n,i,u){var c=nt.chart.style,e=this.createElement("span"),o=e.attrSetters,h=e.element,l=e.renderer;return o.text=function(n){return n!==h.innerHTML&&delete this.bBox,h.innerHTML=n,!1},o.x=o.y=o.align=function(n,t){return t==="align"&&(t="textAlign"),e[t]=n,e.htmlUpdateTransform(),!1},e.attr({text:n,x:r(i),y:r(u)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:c.fontFamily,fontSize:c.fontSize}),e.css=e.htmlCss,l.isSVG&&(e.add=function(n){var i,r=l.box.parentNode,u=[];if(n){if(i=n.div,!i){for(;n;)u.push(n),n=n.parentGroup;t(u.reverse(),function(n){var t;i=n.div=n.div||rt(bt,{className:s(n.element,"class")},{position:"absolute",left:(n.translateX||0)+"px",top:(n.translateY||0)+"px"},i||r);t=i.style;f(n.attrSetters,{translateX:function(n){t.left=n+"px"},translateY:function(n){t.top=n+"px"},visibility:function(n,i){t[i]=n}})})}}else i=r;return i.appendChild(h),e.added=!0,e.alignOnAdd&&e.htmlUpdateTransform(),e}),e},fontMetrics:function(n){var n=h(n||11),n=n<24?n+4:r(n*1.2),t=r(n*.8);return{h:n,b:t}},label:function(n,u,s,h,c,l,a,v,y){function at(){var n;n=b.element.style;g=(tt===void 0||st===void 0||w.styles.textAlign)&&b.getBBox();w.width=(tt||g.width||0)+2*k;w.height=(st||g.height||0)+2*k;ct=k+nt.fontMetrics(n&&n.fontSize).b;lt&&(d||(n=v?-ct:0,w.box=d=h?nt.symbol(h,-ut*k,n,w.width,w.height):nt.rect(-ut*k,n,w.width,w.height,0,ft[ku]),d.add(w)),d.attr(o({width:w.width,height:w.height},ft)),ft=null)}function et(){var n=w.styles,n=n&&n.textAlign,t=k*(1-ut),r;r=v?0:ct;i(tt)&&(n==="center"||n==="right")&&(t+={center:.5,right:1}[n]*(tt-g.width));(t!==b.x||r!==b.y)&&b.attr({x:t,y:r});b.x=t;b.y=r}function rt(n,t){d?d.attr(n,t):ft[n]=t}function ot(){b.add(w);w.attr({text:n,x:u,y:s});d&&i(c)&&w.attr({anchorX:c,anchorY:l})}var nt=this,w=nt.g(y),b=nt.text("",0,0,a).attr({zIndex:1}),d,g,ut=0,k=3,tt,st,ht,vt,yt=0,ft={},ct,a=w.attrSetters,lt,pt;return p(w,"add",ot),a.width=function(n){return tt=n,!1},a.height=function(n){return st=n,!1},a.padding=function(n){return i(n)&&n!==k&&(k=n,et()),!1},a.align=function(n){return ut={left:0,center:.5,right:1}[n],!1},a.text=function(n,t){return b.attr(t,n),at(),et(),!1},a[ku]=function(n,t){return lt=!0,yt=n%2/2,rt(t,n),!1},a.stroke=a.fill=a.r=function(n,t){return t==="fill"&&(lt=!0),rt(t,n),!1},a.anchorX=function(n,t){return c=n,rt(t,n+yt-ht),!1},a.anchorY=function(n,t){return l=n,rt(t,n-vt),!1},a.x=function(n){return w.x=n,n-=ut*((tt||g.width)+k),ht=r(n),w.attr("translateX",ht),!1},a.y=function(n){return vt=w.y=r(n),w.attr("translateY",n),!1},pt=w.css,f(w,{css:function(n){if(n){var i={},n=o({},n);t("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(t){n[t]!==e&&(i[t]=n[t],delete n[t])});b.css(i)}return pt.call(w,n)},getBBox:function(){return{width:g.width+2*k,height:g.height+2*k,x:g.x-k,y:g.y-k}},shadow:function(n){return d&&d.shadow(n),w},destroy:function(){it(w,"add",ot);it(w.element,"mouseenter");it(w.element,"mouseleave");b&&(b=b.destroy());d&&(d=d.destroy());vi.prototype.destroy.call(w);w=nt=at=et=rt=ot=null}})}};hr=dt;vt||et||(gt={init:function(n,t){var i=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"];(t==="shape"||t===bt)&&r.push("left:0;top:0;width:1px;height:1px;");sr&&r.push("visibility: ",t===bt?"hidden":"visible");i.push(' style="',r.join(""),'"/>');t&&(i=t===bt||t==="span"||t==="img"?i.join(""):n.prepVML(i),this.element=rt(i));this.renderer=n;this.attrSetters={}},add:function(n){var i=this.renderer,r=this.element,t=i.box,t=n?n.element||n:t;return n&&n.inverted&&i.invertChild(r,t),t.appendChild(r),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),a(this,"add"),this},updateTransform:vi.prototype.htmlUpdateTransform,attr:function(n,t){var f,o,h,c=this.element||{},v=c.style,y=c.nodeName,p=this.renderer,d=this.symbolName,w,a=this.shadows,l,b=this.attrSetters,k=this;if(ti(n)&&i(t)&&(f=n,n={},n[f]=t),ti(n))f=n,k=f==="strokeWidth"||f==="stroke-width"?this.strokeweight:this[f];else for(f in n)if(o=n[f],l=!1,h=b[f]&&b[f].call(this,o,f),h!==!1&&o!==null){if(h!==e&&(o=h),d&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(f))w||(this.symbolAttr(n),w=!0),l=!0;else if(f==="d"){for(o=o||[],this.d=o.join(" "),h=o.length,l=[];h--;)l[h]=ki(o[h])?r(o[h]*10)-5:o[h]==="Z"?"x":o[h];if(o=l.join(" ")||"x",c.path=o,a)for(h=a.length;h--;)a[h].path=a[h].cutOff?this.cutOffPath(o,a[h].cutOff):o;l=!0}else if(f==="visibility"){if(a)for(h=a.length;h--;)a[h].style[f]=o;y==="DIV"&&(o=o==="hidden"?"-999em":0,f="top");v[f]=o;l=!0}else f==="zIndex"?(o&&(v[f]=o),l=!0):f==="width"||f==="height"?(o=u(0,o),this[f]=o,this.updateClipping?(this[f]=o,this.updateClipping()):v[f]=o,l=!0):f==="x"||f==="y"?(this[f]=o,v[{x:"left",y:"top"}[f]]=o):f==="class"?c.className=o:f==="stroke"?(o=p.color(o,c,f),f="strokecolor"):f==="stroke-width"||f==="strokeWidth"?(c.stroked=o?!0:!1,f="strokeweight",this[f]=o,ki(o)&&(o+="px")):f==="dashstyle"?((c.getElementsByTagName("stroke")[0]||rt(p.prepVML(["<stroke/>"]),null,null,c))[f]=o||"solid",this.dashstyle=o,l=!0):f==="fill"?y==="SPAN"?v.color=o:y!=="IMG"&&(c.filled=o!==tt?!0:!1,o=p.color(o,c,f,this),f="fillcolor"):y==="shape"&&f==="rotation"?(this[f]=o,c.style.left=-r(ht(o*pr)+1)+"px",c.style.top=r(ft(o*pr))+"px"):f==="translateX"||f==="translateY"||f==="rotation"?(this[f]=o,this.updateTransform(),l=!0):f==="text"&&(this.bBox=null,c.innerHTML=o,l=!0);l||(sr?c[f]=o:s(c,f,o))}return k},clip:function(n){var t=this,i,r=t.element,u=r.parentNode;return n?(i=n.members,hi(i,t),i.push(t),t.destroyClip=function(){hi(i,t)},u&&u.className==="highcharts-tracker"&&!sr&&y(r,{visibility:"hidden"}),n=n.getCSS(t)):(t.destroyClip&&t.destroyClip(),n={clip:sr?"inherit":"rect(auto)"}),t.css(n)},css:vi.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&fr(n)},destroy:function(){return this.destroyClip&&this.destroyClip(),vi.prototype.destroy.apply(this)},empty:function(){for(var t=this.element.childNodes,i=t.length,n;i--;)n=t[i],n.parentNode.removeChild(n)},on:function(n,t){return this.element["on"+n]=function(){var n=w.event;n.target=n.srcElement;t(n)},this},cutOffPath:function(n,t){var i,n=n.split(/[ ,]/);return i=n.length,(i===9||i===11)&&(n[i-4]=n[i-2]=h(n[i-2])-10*t),n.join(" ")},shadow:function(t,i,r){var v=[],f,e=this.element,y=this.renderer,u,p=e.style,s,o=e.path,c,l,a,w;if(o&&typeof o.value!="string"&&(o="x"),l=o,t){for(a=n(t.width,3),w=(t.opacity||.15)/a,f=1;f<=3;f++)c=a*2+1-2*f,r&&(l=this.cutOffPath(o.value,c+.5)),s=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',l,'" coordsize="10 10" style="',e.style.cssText,'" />'],u=rt(y.prepVML(s),null,{left:h(p.left)+n(t.offsetX,1),top:h(p.top)+n(t.offsetY,1)}),r&&(u.cutOff=c+1),s=['<stroke color="',t.color||"black",'" opacity="',w*f,'"/>'],rt(y.prepVML(s),null,null,u),i?i.element.appendChild(u):e.parentNode.insertBefore(u,e),v.push(u);this.shadows=v}return this}},gt=at(vi,gt),pt={Element:gt,isIE8:ui.indexOf("MSIE 8.0")>-1,init:function(n,t,i){var r,u;this.alignedObjects=[];r=this.createElement(bt);u=r.element;u.style.position="relative";n.appendChild(r.element);this.box=u;this.boxWrapper=r;this.setSize(t,i,!1);c.namespaces.hcv||(c.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),c.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(n,i,u,e){var s=this.createElement(),o=st(n);return f(s,{members:[],left:o?n.x:n,top:o?n.y:i,width:o?n.width:u,height:o?n.height:e,getCSS:function(n){var t=n.inverted,i=this.top,u=this.left,e=u+this.width,o=i+this.height,i={clip:"rect("+r(t?u:i)+"px,"+r(t?o:e)+"px,"+r(t?e:o)+"px,"+r(t?i:u)+"px)"};return!t&&sr&&n.element.nodeName!=="IMG"&&f(i,{width:e+"px",height:o+"px"}),i},updateClipping:function(){t(s.members,function(n){n.css(s.getCSS(n))})}})},color:function(n,i,r,u){var at=this,s,d=/^rgba/,v,c,e=tt;if(n&&n.linearGradient?c="gradient":n&&n.radialGradient&&(c="pattern"),c){var h,y,f=n.linearGradient||n.radialGradient,l,g,it,ut,ft,w="",n=n.stops,k,et=[],ot=function(){v=['<fill colors="'+et.join(",")+'" opacity="',it,'" o:opacity2="',g,'" type="',c,'" ',w,'focus="100%" method="any" />'];rt(at.prepVML(v),null,null,i)};if(l=n[0],k=n[n.length-1],l[0]>0&&n.unshift([0,l[1]]),k[0]<1&&n.push([1,k[1]]),t(n,function(n,t){d.test(n[1])?(s=kt(n[1]),h=s.get("rgb"),y=s.get("a")):(h=n[1],y=1);et.push(n[0]*100+"% "+h);t?(it=y,ut=h):(g=y,ft=h)}),r==="fill")if(c==="gradient")r=f.x1||f[0]||0,n=f.y1||f[1]||0,l=f.x2||f[2]||0,f=f.y2||f[3]||0,w='angle="'+(90-b.atan((f-n)/(l-r))*180/pi)+'"',ot();else{var e=f.r,st=e*2,ht=e*2,ct=f.cx,lt=f.cy,a=i.radialReference,o,e=function(){a&&(o=u.getBBox(),ct+=(a[0]-o.x)/o.width-.5,lt+=(a[1]-o.y)/o.height-.5,st*=a[2]/o.width,ht*=a[2]/o.height);w='src="'+nt.global.VMLRadialGradientURL+'" size="'+st+","+ht+'" origin="0.5,0.5" position="'+ct+","+lt+'" color2="'+ft+'" ';ot()};u.added?e():p(u,"add",e);e=ut}else e=h}else d.test(n)&&i.tagName!=="IMG"?(s=kt(n),v=["<",r,' opacity="',s.get("a"),'"/>'],rt(this.prepVML(v),null,null,i),e=s.get("rgb")):(e=i.getElementsByTagName(r),e.length&&(e[0].opacity=1),e=n);return e},prepVML:function(n){var t=this.isIE8,n=n.join("");return t?(n=n.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),n=n.indexOf('style="')===-1?n.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):n.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):n=n.replace("<","<hcv:"),n},text:dt.prototype.html,path:function(n){var t={coordsize:"10 10"};return rr(n)?t.d=n:st(n)&&f(t,n),this.createElement("shape").attr(t)},circle:function(n,t,i){return this.symbol("circle").attr({x:n-i,y:t-i,width:2*i,height:2*i})},g:function(n){var t;return n&&(t={className:"highcharts-"+n,"class":"highcharts-"+n}),this.createElement(bt).attr(t)},image:function(n,t,i,r,u){var f=this.createElement("img").attr({src:n});return arguments.length>1&&f.attr({x:t,y:i,width:r,height:u}),f},rect:function(n,t,i,r,f,e){st(n)&&(t=n.y,i=n.width,r=n.height,e=n.strokeWidth,n=n.x);var o=this.symbol("rect");return o.r=f,o.attr(o.crisp(e,n,t,u(i,0),u(r,0)))},invertChild:function(n,t){var i=t.style;y(n,{flip:"x",left:h(i.width)-1,top:h(i.height)-1,rotation:-90})},symbols:{arc:function(n,t,i,r,u){var e=u.start,s=u.end,o=u.r||i||r,i=ft(e),r=ht(e),h=ft(s),c=ht(s),f=u.innerR,l=.08/o,a=f&&.1/f||0;return s-e==0?["x"]:(2*pi-s+e<l?h=-l:s-e<a&&(h=ft(e+a)),e=["wa",n-o,t-o,n+o,t+o,n+o*i,t+o*r,n+o*h,t+o*c],u.open&&!f&&e.push("e","M",n,t),e.push("at",n-f,t-f,n+f,t+f,n+f*h,t+f*c,n+f*i,t+f*r,"x","e"),e)},circle:function(n,t,i,r){return["wa",n,t,n+i,t+r,n+i,t+r/2,n+i,t+r/2,"e"]},rect:function(n,t,r,u,f){var o=n+r,s=t+u,e;return!i(f)||!f.r?o=dt.prototype.symbols.square.apply(0,arguments):(e=g(f.r,r,u),o=["M",n+e,t,"L",o-e,t,"wa",o-2*e,t,o,t+2*e,o-e,t,o,t+e,"L",o,s-e,"wa",o-2*e,s-2*e,o,s,o,s-e,o-e,s,"L",n+e,s,"wa",n,s-2*e,n+2*e,s,n+e,s,n,s-e,"L",n,t+e,"wa",n,t,n+2*e,t+2*e,n,t+e,n+e,t,"x","e"]),o}}},gt=function(){this.init.apply(this,arguments)},gt.prototype=o(dt.prototype,pt),hr=gt);et&&(eu=function(){fi="http://www.w3.org/1999/xhtml"},eu.prototype.symbols={},gf=function(){function t(){for(var i=n.length,t=0;t<i;t++)n[t]();n=[]}var n=[];return{push:function(i,r){n.length===0&&te(r,t);n.push(i)}}}());hr=gt||eu||dt;or.prototype={addLabel:function(){var t=this.axis,c=t.options,l=t.chart,h=t.horiz,o=t.categories,n=this.pos,e=c.labels,s=t.tickPositions,h=o&&h&&o.length&&!e.step&&!e.staggerLines&&!e.rotation&&l.plotWidth/s.length||!h&&l.plotWidth/2,a=n===s[0],v=n===s[s.length-1],y=o&&i(o[n])?o[n]:n,o=this.label,s=s.info,p;t.isDatetimeAxis&&s&&(p=c.dateTimeLabelFormats[s.higherRanks[n]||s.unitName]);this.isFirst=a;this.isLast=v;c=t.labelFormatter.call({axis:t,chart:l,isFirst:a,isLast:v,dateTimeLabelFormat:p,value:t.isLog?wt(lt(y)):y});n=h&&{width:u(1,r(h-2*(e.padding||10)))+"px"};n=f(n,e.style);i(o)?o&&o.attr({text:c}).css(n):(h={align:e.align},ki(e.rotation)&&(h.rotation=e.rotation),this.label=i(c)&&e.enabled?l.renderer.text(c,0,0,e.useHTML).attr(h).css(n).add(t.labelGroup):null)},getLabelSize:function(){var n=this.label,t=this.axis;return n?(this.labelBBox=n.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var n=this.axis.options.labels,t=this.labelBBox.width,n=t*{left:0,center:.5,right:1}[n.align]-n.x;return[-n,t-n]},handleOverflow:function(n,t){var o=!0,i=this.axis,f=i.chart,e=this.isFirst,c=this.isLast,r=t.x,l=i.reversed,s=i.tickPositions;if(e||c){var u=this.getLabelSides(),h=u[0],u=u[1],f=f.plotLeft,a=f+i.len,s=(i=i.ticks[s[n+(e?1:-1)]])&&i.label.xy&&i.label.xy.x+i.getLabelSides()[e?0:1];e&&!l||c&&l?r+h<f&&(r=f-h,i&&r+u>s&&(o=!1)):r+u>a&&(r=a-u,i&&r+h<s&&(o=!1));t.x=r}return o},getPosition:function(n,t,i,r){var u=this.axis,f=u.chart,e=r&&f.oldChartHeight||f.chartHeight;return{x:n?u.translate(t+i,null,null,r)+u.transB:u.left+u.offset+(u.opposite?(r&&f.oldChartWidth||f.chartWidth)-u.right-u.left:0),y:n?e-u.bottom+u.offset-(u.opposite?u.height:0):e-u.translate(t+i,null,null,r)-u.transB}},getLabelPosition:function(n,t,r,u,f,e,o,s){var c=this.axis,l=c.transA,a=c.reversed,c=c.staggerLines,n=n+f.x-(e&&u?e*l*(a?-1:1):0),t=t+f.y-(e&&!u?e*l*(a?1:-1):0);return i(f.y)||(t+=h(r.styles.lineHeight)*.9-r.getBBox().height/2),c&&(t+=o/(s||1)%c*16),{x:n,y:t}},getMarkPath:function(n,t,i,r,u,f){return f.crispLine(["M",n,t,"L",n+(u?0:-i),t+(u?i:0)],r)},render:function(t,i){var u=this.axis,r=u.options,b=u.chart.renderer,y=u.horiz,f=this.type,v=this.label,h=this.pos,k=r.labels,o=this.gridLine,c=f?f+"Grid":"grid",l=f?f+"Tick":"tick",p=r[c+"LineWidth"],it=r[c+"LineColor"],tt=r[c+"LineDashStyle"],a=r[l+"Length"],c=r[l+"Width"]||0,rt=r[l+"Color"],ut=r[l+"Position"],l=this.mark,d=k.step,w=!0,g=u.tickmarkOffset,s=this.getPosition(y,h,g,i),nt=s.x,s=s.y,ft=u.staggerLines;p&&(h=u.getPlotLinePath(h+g,p,i),o===e&&(o={stroke:it,"stroke-width":p},tt&&(o.dashstyle=tt),f||(o.zIndex=1),this.gridLine=o=p?b.path(h).attr(o).add(u.gridGroup):null),!i&&o&&h&&o[this.isNew?"attr":"animate"]({d:h}));c&&a&&(ut==="inside"&&(a=-a),u.opposite&&(a=-a),f=this.getMarkPath(nt,s,a,c,y,b),l?l.animate({d:f}):this.mark=b.path(f).attr({stroke:rt,"stroke-width":c}).add(u.axisGroup));v&&!isNaN(nt)&&(v.xy=s=this.getLabelPosition(nt,s,v,y,k,g,t,d),this.isFirst&&!n(r.showFirstLabel,1)||this.isLast&&!n(r.showLastLabel,1)?w=!1:!ft&&y&&k.overflow==="justify"&&!this.handleOverflow(t,s)&&(w=!1),d&&t%d&&(w=!1),w?(v[this.isNew?"attr":"animate"](s),this.isNew=!1):v.attr("y",-9999))},destroy:function(){gi(this,this.axis)}};su.prototype={render:function(){var c=this,f=c.axis,l=f.horiz,h=(f.pointRange||0)/2,r=c.options,e=r.label,v=c.label,w=r.width,y=r.to,p=r.from,s=i(p)&&i(y),b=r.value,nt=r.dashStyle,a=c.svgElem,t=[],tt,it=r.color,k=r.zIndex,d=r.events,rt=f.chart.renderer;if(f.isLog&&(p=ii(p),y=ii(y),b=ii(b)),w)(t=f.getPlotLinePath(b,w),h={stroke:it,"stroke-width":w},nt)&&(h.dashstyle=nt);else if(s)(p=u(p,f.min-h),y=g(y,f.max+h),t=f.getPlotBandPath(p,y,r),h={fill:it},r.borderWidth)&&(h.stroke=r.borderColor,h["stroke-width"]=r.borderWidth);else return;if(i(k)&&(h.zIndex=k),a)t?a.animate({d:t},null,a.onGetPath):(a.hide(),a.onGetPath=function(){a.show()});else if(t&&t.length&&(c.svgElem=a=rt.path(t).attr(h).add(),d))for(tt in r=function(n){a.on(n,function(t){d[n].apply(c,[t])})},d)r(tt);return e&&i(e.text)&&t&&t.length&&f.width>0&&f.height>0?(e=o({align:l&&s&&"center",x:l?!s&&4:10,verticalAlign:!l&&s&&"middle",y:l?s?16:10:s?6:-4,rotation:l&&!s&&90},e),v||(c.label=v=rt.text(e.text,0,0).attr({align:e.textAlign||e.align,rotation:e.rotation,zIndex:k}).css(e.style).add()),f=[t[1],t[4],n(t[6],t[1])],t=[t[2],t[5],n(t[7],t[2])],l=di(f),s=di(t),v.align(e,!1,{x:l,y:s,width:li(f)-l,height:li(t)-s}),v.show()):v&&v.hide(),c},destroy:function(){hi(this.axis.plotLinesAndBands,this);gi(this,this.axis)}};hf.prototype={destroy:function(){gi(this,this.axis)},setTotal:function(n){this.cum=this.total=n},render:function(n){var t=this.options.formatter.call(this);this.label?this.label.attr({text:t,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(t,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:"hidden"}).add(n)},setOffset:function(n,t){var i=this.axis,e=i.chart,r=e.inverted,u=this.isNegative,f=i.translate(this.percent?100:this.total,0,0,0,1),i=i.translate(0),i=k(f-i),s=e.xAxis[0].translate(this.x)+n,o=e.plotHeight,u={x:r?u?f:f-i:s,y:r?o-s-t:u?o-f-i:o-f,width:r?i:t,height:r?t:i};(r=this.label)&&(r.align(this.alignOptions,null,u),u=r.alignAttr,r.attr({visibility:this.options.crop===!1||e.isInsidePlot(u.x,u.y)?vt?"inherit":"visible":"hidden"}))}};hu.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:v,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:v.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(n,t){var u=t.isX,f,r;this.horiz=n.inverted?!u:u;this.xOrY=(this.isXAxis=u)?"x":"y";this.opposite=t.opposite;this.side=this.horiz?this.opposite?0:2:this.opposite?1:3;this.setOptions(t);var r=this.options,o=r.type,s=o==="datetime";this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter;this.staggerLines=this.horiz&&r.labels.staggerLines;this.userOptions=t;this.minPixelPadding=0;this.chart=n;this.reversed=r.reversed;this.categories=r.categories;this.isLog=o==="logarithmic";this.isLinked=i(r.linkedTo);this.isDatetimeAxis=s;this.tickmarkOffset=r.categories&&r.tickmarkPlacement==="between"?.5:0;this.ticks={};this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=r.minRange||r.maxZoom;this.range=r.range;this.offset=r.offset||0;this.stacks={};this.min=this.max=null;r=this.options.events;n.axes.push(this);n[u?"xAxis":"yAxis"].push(this);this.series=[];n.inverted&&u&&this.reversed===e&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;this.addPlotLine=this.addPlotBand=this.addPlotBandOrLine;for(f in r)p(this,f,r[f]);this.isLog&&(this.val2lin=ii,this.lin2val=lt)},setOptions:function(n){this.options=o(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],o(nt[this.isXAxis?"xAxis":"yAxis"],n))},defaultLabelFormatter:function(){var i=this.axis,n=this.value,f=this.dateTimeLabelFormat,u=nt.lang.numericSymbols,r=u&&u.length,t,o=i.isLog?n:i.tickInterval;if(i.categories)t=n;else if(f)t=dr(f,n);else if(r&&o>=1e3)for(;r--&&t===e;)i=Math.pow(1e3,r+1),o>=i&&u[r]!==null&&(t=ur(n/i,-1)+u[r]);return t===e&&(t=n>=1e3?ur(n,0):ur(n,-1)),t},getSeriesExtremes:function(){var r=this,c=r.chart,o=r.stacks,s=[],h=[],f;r.hasVisibleSeries=!1;r.dataMin=r.dataMax=null;t(r.series,function(t){if(t.visible||!c.options.chart.ignoreHiddenSeries){var a=t.options,d,tt,it,b,rt,nt,ut,l,v,y=a.threshold,et,p=[],ot=0;if(r.hasVisibleSeries=!0,r.isLog&&y<=0&&(y=a.threshold=null),r.isXAxis)(a=t.xData,a.length)&&(r.dataMin=g(n(r.dataMin,a[0]),di(a)),r.dataMax=u(n(r.dataMax,a[0]),li(a)));else{var ft,w,k,ht=t.cropped,st=t.xAxis.getExtremes(),ct=!!t.modifyValue;for(d=a.stacking,r.usePercentage=d==="percent",d&&(rt=a.stack,b=t.type+n(rt,""),nt="-"+b,t.stackKey=b,tt=s[b]||[],s[b]=tt,it=h[nt]||[],h[nt]=it),r.usePercentage&&(r.dataMin=0,r.dataMax=99),a=t.processedXData,ut=t.processedYData,et=ut.length,f=0;f<et;f++)if(l=a[f],v=ut[f],d&&(w=(ft=v<y)?it:tt,k=ft?nt:b,i(w[l])?(w[l]=wt(w[l]+v),v=[v,w[l]]):w[l]=v,o[k]||(o[k]={}),o[k][l]||(o[k][l]=new hf(r,r.options.stackLabels,ft,l,rt,d)),o[k][l].setTotal(w[l])),v!==null&&v!==e&&(ct&&(v=t.modifyValue(v)),ht||(a[f+1]||l)>=st.min&&(a[f-1]||l)<=st.max))if(l=v.length)for(;l--;)v[l]!==null&&(p[ot++]=v[l]);else p[ot++]=v;!r.usePercentage&&p.length&&(r.dataMin=g(n(r.dataMin,p[0]),di(p)),r.dataMax=u(n(r.dataMax,p[0]),li(p)));i(y)&&(r.dataMin>=y?(r.dataMin=y,r.ignoreMinPadding=!0):r.dataMax<y&&(r.dataMax=y,r.ignoreMaxPadding=!0))}}})},translate:function(n,t,i,r,u,f){var s=this.len,e=1,h=0,o=r?this.oldTransA:this.transA,r=r?this.oldMin:this.min,u=this.options.ordinal||this.isLog&&u;return o||(o=this.transA),i&&(e*=-1,h=s),this.reversed&&(e*=-1,h-=e*s),t?(this.reversed&&(n=s-n),n=n/o+r,u&&(n=this.lin2val(n))):(u&&(n=this.val2lin(n)),n=e*(n-r)*o+h+e*this.minPixelPadding+(f?o*this.pointRange/2:0)),n},getPlotLinePath:function(n,t,i){var f=this.chart,o=this.left,s=this.top,u,h,c,n=this.translate(n,null,null,i),l=i&&f.oldChartHeight||f.chartHeight,a=i&&f.oldChartWidth||f.chartWidth,e;return u=this.transB,i=h=r(n+u),u=c=r(l-n-u),isNaN(n)?e=!0:this.horiz?(u=s,c=l-this.bottom,i<o||i>o+this.width)&&(e=!0):(i=o,h=a-this.right,u<s||u>s+this.height)&&(e=!0),e?null:f.renderer.crispLine(["M",i,u,"L",h,c],t||0)},getPlotBandPath:function(n,t){var i=this.getPlotLinePath(t),r=this.getPlotLinePath(n);return r&&i?r.push(i[4],i[5],i[1],i[2]):r=null,r},getLinearTickPositions:function(n,t,i){for(var r,t=wt(ut(t/n)*n),i=wt(yi(i/n)*n),u=[];t<=i;){if(u.push(t),t=wt(t+n),t===r)break;r=t}return u},getLogTickPositions:function(t,i,u,f){var o=this.options,e=this.len,s=[],h,v,c,l,a;if(f||(this._minorAutoInterval=null),t>=.5)t=r(t),s=this.getLinearTickPositions(t,i,u);else if(t>=.08)for(e=ut(i),o=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];e<u+1&&!a;e++)for(v=o.length,h=0;h<v&&!a;h++)c=ii(lt(e)*o[h]),c>i&&s.push(l),l>u&&(a=!0),l=c;else(i=lt(i),u=lt(u),t=o[f?"minorTickInterval":"tickInterval"],t=n(t==="auto"?null:t,this._minorAutoInterval,(u-i)*(o.tickPixelInterval/(f?5:1))/((f?e/this.tickPositions.length:e)||1)),t=ou(t,null,b.pow(10,ut(b.log(t)/b.LN10))),s=yr(this.getLinearTickPositions(t,i,u),ii),f)||(this._minorAutoInterval=t/5);return f||(this.tickInterval=t),s},getMinorTickPositions:function(){var t=this.options,n=this.tickPositions,r=this.minorTickInterval,i=[],u;if(this.isLog)for(u=n.length,t=1;t<u;t++)i=i.concat(this.getLogTickPositions(r,n[t-1],n[t],!0));else if(this.isDatetimeAxis&&t.minorTickInterval==="auto")i=i.concat(ff(uf(r),this.min,this.max,t.startOfWeek));else for(n=this.min+(n[0]-this.min)%r;n<=this.max;n+=r)i.push(n);return i},adjustForMinRange:function(){var s=this.options,r=this.min,u=this.max,f,v=this.dataMax-this.dataMin>=this.minRange,c,h,a,l,y,o;this.isXAxis&&this.minRange===e&&!this.isLog&&(i(s.min)||i(s.max)?this.minRange=null:(t(this.series,function(n){for(l=n.xData,h=y=n.xIncrement?1:l.length-1;h>0;h--)(a=l[h]-l[h-1],c===e||a<c)&&(c=a)}),this.minRange=g(c*5,this.dataMax-this.dataMin)));u-r<this.minRange&&(o=this.minRange,f=(o-u+r)/2,f=[r-f,n(s.min,r-f)],v&&(f[2]=this.dataMin),r=li(f),u=[r+o,n(s.max,r+o)],v&&(u[2]=this.dataMax),u=di(u),u-r<o&&(f[0]=u-o,f[1]=n(s.min,u-o),r=li(f)));this.min=r;this.max=u},setAxisTranslation:function(){var h=this.max-this.min,e=0,f,n=0,r=0,o=this.linkedParent,s=this.transA;this.isXAxis&&(o?(n=o.minPointOffset,r=o.pointRangePadding):t(this.series,function(t){var o=t.pointRange,h=t.options.pointPlacement,s=t.closestPointRange;e=u(e,o);n=u(n,h?0:o/2);r=u(r,h==="on"?0:o);!t.noSharedTooltip&&i(s)&&(f=i(f)?g(f,s):s)}),this.minPointOffset=n,this.pointRangePadding=r,this.pointRange=e,this.closestPointRange=f);this.oldTransA=s;this.translationSlope=this.transA=s=this.len/(h+r||1);this.transB=this.horiz?this.left:this.bottom;this.minPixelPadding=s*n},setTickPositions:function(r){var f=this,s=f.chart,e=f.options,c=f.isLog,l=f.isDatetimeAxis,v=f.isXAxis,h=f.isLinked,o=f.options.tickPositioner,y=e.maxPadding,p=e.minPadding,a=e.tickInterval,w=e.minTickInterval,k=e.tickPixelInterval,d=f.categories;h?(f.linkedParent=s[v?"xAxis":"yAxis"][e.linkedTo],s=f.linkedParent.getExtremes(),f.min=n(s.min,s.dataMin),f.max=n(s.max,s.dataMax),e.type!==f.linkedParent.options.type&&er(11,1)):(f.min=n(f.userMin,e.min,f.dataMin),f.max=n(f.userMax,e.max,f.dataMax));c&&(!r&&g(f.min,n(f.dataMin,f.min))<=0&&er(10,1),f.min=wt(ii(f.min)),f.max=wt(ii(f.max)));f.range&&(f.userMin=f.min=u(f.min,f.max-f.range),f.userMax=f.max,r)&&(f.range=null);f.adjustForMinRange();!d&&!f.usePercentage&&!h&&i(f.min)&&i(f.max)&&(s=f.max-f.min)&&(!i(e.min)&&!i(f.userMin)&&p&&(f.dataMin<0||!f.ignoreMinPadding)&&(f.min-=s*p),!i(e.max)&&!i(f.userMax)&&y&&(f.dataMax>0||!f.ignoreMaxPadding)&&(f.max+=s*y));f.tickInterval=f.min===f.max||f.min===void 0||f.max===void 0?1:h&&!a&&k===f.linkedParent.options.tickPixelInterval?f.linkedParent.tickInterval:n(a,d?1:(f.max-f.min)*k/(f.len||1));v&&!r&&t(f.series,function(n){n.processData(f.min!==f.oldMin||f.max!==f.oldMax)});f.setAxisTranslation(r);f.beforeSetTickPositions&&f.beforeSetTickPositions();f.postProcessTickInterval&&(f.tickInterval=f.postProcessTickInterval(f.tickInterval));!a&&f.tickInterval<w&&(f.tickInterval=w);l||c||(r=b.pow(10,ut(b.log(f.tickInterval)/b.LN10)),a)||(f.tickInterval=ou(f.tickInterval,null,r,e));f.minorTickInterval=e.minorTickInterval==="auto"&&f.tickInterval?f.tickInterval/5:e.minorTickInterval;f.tickPositions=o=e.tickPositions||o&&o.apply(f,[f.min,f.max]);o||(o=l?(f.getNonLinearTimeTicks||ff)(uf(f.tickInterval,e.units),f.min,f.max,e.startOfWeek,f.ordinalPositions,f.closestPointRange,!0):c?f.getLogTickPositions(f.tickInterval,f.min,f.max):f.getLinearTickPositions(f.tickInterval,f.min,f.max),f.tickPositions=o);h||(c=o[0],l=o[o.length-1],h=f.minPointOffset||0,e.startOnTick?f.min=c:f.min-h>c&&o.shift(),e.endOnTick?f.max=l:f.max+h<l&&o.pop(),o.length===1&&(f.min-=1e-9,f.max+=1e-9))},setMaxTicks:function(){var t=this.chart,n=t.maxTicks,i=this.tickPositions,r=this.xOrY;n||(n={x:0,y:0});!this.isLinked&&!this.isDatetimeAxis&&i.length>n[r]&&this.options.alignTicks!==!1&&(n[r]=i.length);t.maxTicks=n},adjustTickAmount:function(){var n=this.xOrY,t=this.tickPositions,r=this.chart.maxTicks,u,f;if(r&&r[n]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){if(u=this.tickAmount,f=t.length,this.tickAmount=n=r[n],f<n){for(;t.length<n;)t.push(wt(t[t.length-1]+this.tickInterval));this.transA*=(f-1)/(n-1);this.max=t[t.length-1]}i(u)&&n!==u&&(this.isDirty=!0)}},setScale:function(){var n=this.stacks,i,r,f,u;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),u=this.len!==this.oldAxisLength,t(this.series,function(n){(n.isDirtyData||n.isDirty||n.xAxis.isDirty)&&(f=!0)}),(u||f||this.isLinked||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax)&&((this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty)||(this.isDirty=u||this.min!==this.oldMin||this.max!==this.oldMax)),!this.isXAxis)for(i in n)for(r in n[i])n[i][r].cum=n[i][r].total;this.setMaxTicks()},setExtremes:function(t,i,r,u,e){var o=this,s=o.chart,r=n(r,!0),e=f(e,{min:t,max:i});a(o,"setExtremes",e,function(){o.userMin=t;o.userMax=i;o.isDirtyExtremes=!0;r&&s.redraw(u)})},zoom:function(n,t){return this.setExtremes(n,t,!1,e,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,i=this.options,r=i.offsetLeft||0,f=i.offsetRight||0;this.left=n(i.left,t.plotLeft+r);this.top=n(i.top,t.plotTop);this.width=n(i.width,t.plotWidth-r+f);this.height=n(i.height,t.plotHeight);this.bottom=t.chartHeight-this.height-this.top;this.right=t.chartWidth-this.width-this.left;this.len=u(this.horiz?this.width:this.height,0)},getExtremes:function(){var n=this.isLog;return{min:n?wt(lt(this.min)):this.min,max:n?wt(lt(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(n){var t=this.isLog,i=t?lt(this.min):this.min,t=t?lt(this.max):this.max;return i>n||n===null?n=i:t<n&&(n=t),this.translate(n,0,1,0,1)},addPlotBandOrLine:function(n){return n=new su(this,n).render(),this.plotLinesAndBands.push(n),n},getOffset:function(){var r=this,h=r.chart,l=h.renderer,o=r.options,a=r.tickPositions,s=r.ticks,v=r.horiz,e=r.side,y,k=0,d,g=0,f=o.title,nt=o.labels,c=0,p=h.axisOffset,w=[-1,1,1,-1][e],b;if(r.hasData=h=r.hasVisibleSeries||i(r.min)&&i(r.max)&&!!a,r.showAxis=y=h||n(o.showEmpty,!0),r.axisGroup||(r.gridGroup=l.g("grid").attr({zIndex:o.gridZIndex||1}).add(),r.axisGroup=l.g("axis").attr({zIndex:o.zIndex||2}).add(),r.labelGroup=l.g("axis-labels").attr({zIndex:nt.zIndex||7}).add()),h||r.isLinked)t(a,function(n){s[n]?s[n].addLabel():s[n]=new or(r,n)}),t(a,function(n){(e===0||e===2||{1:"left",3:"right"}[e]===nt.align)&&(c=u(s[n].getLabelSize(),c))}),r.staggerLines&&(c+=(r.staggerLines-1)*16);else for(b in s)s[b].destroy(),delete s[b];f&&f.text&&(r.axisTitle||(r.axisTitle=l.text(f.text,0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:f.textAlign||{low:"left",middle:"center",high:"right"}[f.align]}).css(f.style).add(r.axisGroup),r.axisTitle.isNew=!0),y&&(k=r.axisTitle.getBBox()[v?"height":"width"],g=n(f.margin,v?5:10),d=f.offset),r.axisTitle[y?"show":"hide"]());r.offset=w*n(o.offset,p[e]);r.axisTitleMargin=n(d,c+g+(e!==2&&c&&w*o.labels[v?"y":"x"]));p[e]=u(p[e],r.axisTitleMargin+k+w*r.offset)},getLinePath:function(n){var i=this.chart,t=this.opposite,u=this.offset,r=this.horiz,f=this.left+(t?this.width:0)+u;return this.lineTop=t=i.chartHeight-this.bottom-(t?this.height:0)+u,i.renderer.crispLine(["M",r?this.left:f,r?t:this.top,"L",r?i.chartWidth-this.right:f,r?t:i.chartHeight-this.bottom],n)},getTitlePosition:function(){var n=this.horiz,i=this.left,e=this.top,t=this.len,r=this.options.title,u=n?i:e,f=this.opposite,o=this.offset,s=h(r.style.fontSize||12),t={low:u+(n?0:t),middle:u+t/2,high:u+(n?t:0)}[r.align],i=(n?e+this.height:i)+(n?1:-1)*(f?-1:1)*this.axisTitleMargin+(this.side===2?s:0);return{x:n?t:i+(f?this.width:0)+o+(r.x||0),y:n?i-(f?this.height:0)+o:t+(r.y||0)}},render:function(){var n=this,u=n.chart,p=u.renderer,r=n.options,w=n.isLog,b=n.isLinked,f=n.tickPositions,c=n.axisTitle,k=n.stacks,o=n.ticks,s=n.minorTicks,h=n.alternateBands,d=r.stackLabels,g=r.alternateGridColor,nt=n.tickmarkOffset,l=r.lineWidth,a,tt=u.hasRendered&&i(n.oldMin)&&!isNaN(n.oldMin),it=n.showAxis,v,y,rt,ut;if((n.hasData||b)&&((n.minorTickInterval&&!n.categories&&t(n.getMinorTickPositions(),function(t){s[t]||(s[t]=new or(n,t,"minor"));tt&&s[t].isNew&&s[t].render(null,!0);s[t].isActive=!0;s[t].render()}),f.length&&t(f.slice(1).concat([f[0]]),function(t,i){i=i===f.length-1?0:i+1;(!b||t>=n.min&&t<=n.max)&&(o[t]||(o[t]=new or(n,t)),tt&&o[t].isNew&&o[t].render(i,!0),o[t].isActive=!0,o[t].render(i))}),g&&t(f,function(t,i){i%2==0&&t<n.max&&(h[t]||(h[t]=new su(n)),v=t+nt,y=f[i+1]!==e?f[i+1]+nt:n.max,h[t].options={from:w?lt(v):v,to:w?lt(y):y,color:g},h[t].render(),h[t].isActive=!0)}),n._addedPlotLB)||(t((r.plotLines||[]).concat(r.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),t([o,s,h],function(n){for(var t in n)n[t].isActive?n[t].isActive=!1:(n[t].destroy(),delete n[t])}),l&&(a=n.getLinePath(l),n.axisLine?n.axisLine.animate({d:a}):n.axisLine=p.path(a).attr({stroke:r.lineColor,"stroke-width":l,zIndex:7}).add(n.axisGroup),n.axisLine[it?"show":"hide"]()),c&&it&&(c[c.isNew?"attr":"animate"](n.getTitlePosition()),c.isNew=!1),d&&d.enabled){r=n.stackTotalGroup;r||(n.stackTotalGroup=r=p.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());r.translate(u.plotLeft,u.plotTop);for(rt in k)for(ut in u=k[rt],u)u[ut].render(r)}n.isDirty=!1},removePlotBandOrLine:function(n){for(var t=this.plotLinesAndBands,i=t.length;i--;)t[i].id===n&&t[i].destroy()},setTitle:function(t,i){var f=this.chart,r=this.options,u=this.axisTitle;r.title=o(r.title,t);this.axisTitle=u&&u.destroy();this.isDirty=!0;n(i,!0)&&f.redraw()},redraw:function(){var n=this.chart;n.tracker.resetTracker&&n.tracker.resetTracker(!0);this.render();t(this.plotLinesAndBands,function(n){n.render()});t(this.series,function(n){n.isDirty=!0})},setCategories:function(i,r){var u=this.chart;this.categories=this.userOptions.categories=i;t(this.series,function(n){n.translate();n.setTooltipPoints(!0)});this.isDirty=!0;n(r,!0)&&u.redraw()},destroy:function(){var n=this,i=n.stacks,r;it(n);for(r in i)gi(i[r]),i[r]=null;t([n.ticks,n.minorTicks,n.alternateBands,n.plotLinesAndBands],function(n){gi(n)});t("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(t){n[t]&&(n[t]=n[t].destroy())})}};cu.prototype={destroy:function(){t(this.crosshairs,function(n){n&&n.destroy()});this.label&&(this.label=this.label.destroy())},move:function(n,t,i,r){var e=this,u=e.now,o=e.options.animation!==!1&&!e.isHidden;f(u,{x:o?(2*u.x+n)/3:n,y:o?(u.y+t)/2:t,anchorX:o?(2*u.anchorX+i)/3:i,anchorY:o?(u.anchorY+r)/2:r});e.label.attr(u);o&&(k(n-u.x)>1||k(t-u.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){e&&e.move(n,t,i,r)},32))},hide:function(){if(!this.isHidden){var n=this.chart.hoverPoints;this.label.hide();n&&t(n,function(n){n.setState()});this.chart.hoverPoints=null;this.isHidden=!0}},hideCrosshairs:function(){t(this.crosshairs,function(n){n&&n.hide()})},getAnchor:function(n,i){var f,u=this.chart,e=u.inverted,o=0,s=0,h,n=ri(n);return f=n[0].tooltipPos,f||(t(n,function(n){h=n.series.yAxis;o+=n.plotX;s+=(n.plotLow?(n.plotLow+n.plotHigh)/2:n.plotY)+(!e&&h?h.top-u.plotTop:0)}),o/=n.length,s/=n.length,f=[e?u.plotWidth-s:o,this.shared&&!e&&n.length>1&&i?i.chartY-u.plotTop:e?u.plotHeight-o:s]),yr(f,r)},getPosition:function(t,i,r){var f=this.chart,h=f.plotLeft,o=f.plotTop,c=f.plotWidth,l=f.plotHeight,s=n(this.options.distance,12),a=r.plotX,r=r.plotY,f=a+h+(f.inverted?s:-t-s),e=r-i+o+15,v;return f<7&&(f=h+u(a,0)+s),f+t>h+c&&(f-=f+t-(h+c),e=r-i+o-s,v=!0),e<o+5&&(e=o+5,v&&r>=e&&r<=e+i&&(e=r+o+s)),e+i>o+l&&(e=u(o,o+l-i-s)),{x:f,y:e}},refresh:function(i,u){function b(){var r=this.points||ri(this),n=r[0].series,i;return i=[n.tooltipHeaderFormatter(r[0].key)],t(r,function(t){n=t.series;i.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),i.push(v.footerFormat||""),i.join("")}var h=this.chart,f=this.label,v=this.options,y,c,o,e={},l,w=[],p,s;if(l=v.formatter||b,e=h.hoverPoints,s=v.crosshairs,o=this.shared,c=this.getAnchor(i,u),y=c[0],c=c[1],o&&(!i.series||!i.series.noSharedTooltip)?(h.hoverPoints=i,e&&t(e,function(n){n.setState()}),t(i,function(n){n.setState("hover");w.push(n.getLabelConfig())}),e={x:i[0].category,y:i[0].y},e.points=w,i=i[0]):e=i.getLabelConfig(),l=l.call(e),e=i.series,o=o||!e.isCartesian||e.tooltipOutsidePlot||h.isInsidePlot(y,c),l===!1||!o?this.hide():(this.isHidden&&f.show(),f.attr({text:l}),p=v.borderColor||i.color||e.color||"#606060",f.attr({stroke:p}),f=(v.positioner||this.getPosition).call(this,f.width,f.height,{plotX:y,plotY:c}),this.move(r(f.x),r(f.y),y+h.plotLeft,c+h.plotTop),this.isHidden=!1),s)for(s=ri(s),f=s.length;f--;)(o=i.series[f?"yAxis":"xAxis"],s[f]&&o)&&((o=o.getPlotLinePath(f?n(i.stackY,i.y):i.x,1),this.crosshairs[f])?this.crosshairs[f].attr({d:o,visibility:"visible"}):(e={"stroke-width":s[f].width||1,stroke:s[f].color||"#C0C0C0",zIndex:s[f].zIndex||2},s[f].dashStyle&&(e.dashstyle=s[f].dashStyle),this.crosshairs[f]=h.renderer.path(o).attr(e).add()));a(h,"tooltipRefresh",{text:l,x:y+h.plotLeft,y:c+h.plotTop,borderColor:p})}};lu.prototype={normalizeMouseEvent:function(n){var t,u,i,n=n||w.event;return n.target||(n.target=n.srcElement),n=df(n),i=n.touches?n.touches.item(0):n,this.chartPosition=t=re(this.chart.container),i.pageX===e?(u=n.x,t=n.y):(u=i.pageX-t.left,t=i.pageY-t.top),f(n,{chartX:r(u),chartY:r(t)})},getMouseCoordinates:function(n){var r={xAxis:[],yAxis:[]},i=this.chart;return t(i.axes,function(t){var u=t.isXAxis;r[u?"xAxis":"yAxis"].push({axis:t,value:t.translate(((i.inverted?!u:u)?n.chartX-i.plotLeft:t.top+t.len-n.chartY)-t.minPixelPadding,!0)})}),r},getIndex:function(n){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-n.chartY:n.chartX-t.plotLeft},onmousemove:function(n){var t=this.chart,u=t.series,h=t.tooltip,r,c=t.hoverPoint,e=t.hoverSeries,f,i,o=t.chartWidth,s=this.getIndex(n);if(h&&this.options.tooltip.shared&&(!e||!e.noSharedTooltip)){for(r=[],f=u.length,i=0;i<f;i++)u[i].visible&&u[i].options.enableMouseTracking!==!1&&!u[i].noSharedTooltip&&u[i].tooltipPoints&&u[i].tooltipPoints.length&&(t=u[i].tooltipPoints[s],t._dist=k(s-t[u[i].xAxis.tooltipPosName||"plotX"]),o=g(o,t._dist),r.push(t));for(f=r.length;f--;)r[f]._dist>o&&r.splice(f,1);r.length&&r[0].plotX!==this.hoverX&&(h.refresh(r,n),this.hoverX=r[0].plotX)}e&&e.tracker&&(t=e.tooltipPoints[s])&&t!==c&&t.onMouseOver()},resetTracker:function(n){var t=this.chart,u=t.hoverSeries,r=t.hoverPoint,i=t.tooltip,t=i&&i.shared?t.hoverPoints:r;(n=n&&i&&t)&&ri(t)[0].plotX===e&&(n=!1);n?i.refresh(t):(r&&r.onMouseOut(),u&&u.onMouseOut(),i&&(i.hide(),i.hideCrosshairs()),this.hoverX=null)},setDOMEvents:function(){function o(){if(i.selectionMarker){var s={xAxis:[],yAxis:[]},f=i.selectionMarker.getBBox(),h=f.x-n.plotLeft,l=f.y-n.plotTop,v;e&&(t(n.axes,function(t){if(t.options.zoomEnabled!==!1){var r=t.isXAxis,i=n.inverted?!r:r,e=t.translate(i?h:n.plotHeight-l-f.height,!0,0,0,1),i=t.translate((i?h+f.width:n.plotHeight-l)-2*t.minPixelPadding,!0,0,0,1);isNaN(e)||isNaN(i)||(s[r?"xAxis":"yAxis"].push({axis:t,min:g(e,i),max:u(e,i)}),v=!0)}}),v&&a(n,"selection",s,function(t){n.zoom(t)}));i.selectionMarker=i.selectionMarker.destroy()}n&&(y(r,{cursor:"auto"}),n.cancelClick=e,n.mouseIsDown=e=!1);it(c,"mouseup",o);wi&&it(c,"touchend",o)}var i=this,n=i.chart,r=n.container,e,l=i.zoomX&&!n.inverted||i.zoomY&&n.inverted,v=i.zoomY&&!n.inverted||i.zoomX&&n.inverted,h;i.hideTooltipOnMouseMove=function(t){t=df(t);i.chartPosition&&n.hoverSeries&&n.hoverSeries.isCartesian&&!n.isInsidePlot(t.pageX-i.chartPosition.left-n.plotLeft,t.pageY-i.chartPosition.top-n.plotTop)&&i.resetTracker()};i.hideTooltipOnMouseLeave=function(){i.resetTracker();i.chartPosition=null};r.onmousedown=function(t){t=i.normalizeMouseEvent(t);t.type.indexOf("touch")===-1&&t.preventDefault&&t.preventDefault();n.mouseIsDown=!0;n.cancelClick=!1;n.mouseDownX=i.mouseDownX=t.chartX;i.mouseDownY=t.chartY;p(c,"mouseup",o);wi&&p(c,"touchend",o)};h=function(t){var h;if(!t||!(t.touches&&t.touches.length>1)){var t=i.normalizeMouseEvent(t),f=t.type,u=t.chartX,r=t.chartY,o=!n.isInsidePlot(u-n.plotLeft,r-n.plotTop);if(f.indexOf("touch")===-1&&(t.returnValue=!1),f==="touchstart"&&(s(t.target,"isTracker")?n.runTrackerClick||t.preventDefault():!n.runChartClick&&!o&&t.preventDefault()),o&&(u<n.plotLeft?u=n.plotLeft:u>n.plotLeft+n.plotWidth&&(u=n.plotLeft+n.plotWidth),r<n.plotTop?r=n.plotTop:r>n.plotTop+n.plotHeight&&(r=n.plotTop+n.plotHeight)),n.mouseIsDown&&f!=="touchstart"&&(e=Math.sqrt(Math.pow(i.mouseDownX-u,2)+Math.pow(i.mouseDownY-r,2)),e>10)&&(f=n.isInsidePlot(i.mouseDownX-n.plotLeft,i.mouseDownY-n.plotTop),n.hasCartesianSeries&&(i.zoomX||i.zoomY)&&f&&!i.selectionMarker&&(i.selectionMarker=n.renderer.rect(n.plotLeft,n.plotTop,l?1:n.plotWidth,v?1:n.plotHeight,0).attr({fill:i.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),i.selectionMarker&&l&&(h=u-i.mouseDownX,i.selectionMarker.attr({width:k(h),x:(h>0?0:h)+i.mouseDownX})),i.selectionMarker&&v&&(r-=i.mouseDownY,i.selectionMarker.attr({height:k(r),y:(r>0?0:r)+i.mouseDownY})),f&&!i.selectionMarker&&i.options.chart.panning&&n.pan(u)),!o)i.onmousemove(t);return o||!n.hasCartesianSeries}};/Android 4\.0/.test(ui)||(r.onmousemove=h);p(r,"mouseleave",i.hideTooltipOnMouseLeave);wi||p(c,"mousemove",i.hideTooltipOnMouseMove);r.ontouchstart=function(n){if(i.zoomX||i.zoomY)r.onmousedown(n);h(n)};r.ontouchmove=h;r.ontouchend=function(){e&&i.resetTracker()};r.onclick=function(t){var r=n.hoverPoint,u,e,t=i.normalizeMouseEvent(t);t.cancelBubble=!0;n.cancelClick||(r&&(s(t.target,"isTracker")||s(t.target.parentNode,"isTracker"))?(u=r.plotX,e=r.plotY,f(r,{pageX:i.chartPosition.left+n.plotLeft+(n.inverted?n.plotWidth-e:u),pageY:i.chartPosition.top+n.plotTop+(n.inverted?n.plotHeight-u:e)}),a(r.series,"click",f(t,{point:r})),r.firePointEvent("click",t)):(f(t,i.getMouseCoordinates(t)),n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)&&a(n,"click",t)))}},destroy:function(){var t=this.chart,n=t.container;t.trackerGroup&&(t.trackerGroup=t.trackerGroup.destroy());it(n,"mouseleave",this.hideTooltipOnMouseLeave);it(c,"mousemove",this.hideTooltipOnMouseMove);n.onclick=n.onmousedown=n.onmousemove=n.ontouchstart=n.ontouchend=n.ontouchmove=null;clearInterval(this.tooltipTimeout)},init:function(n,t){n.trackerGroup||(n.trackerGroup=n.renderer.g("tracker").attr({zIndex:9}).add());t.enabled&&(n.tooltip=new cu(n,t));this.setDOMEvents()}};au.prototype={init:function(t){var i=this,r=i.options=t.options.legend;if(r.enabled){var u=r.itemStyle,f=n(r.padding,8),e=r.itemMarginTop||0;i.baseline=h(u.fontSize)+3+e;i.itemStyle=u;i.itemHiddenStyle=o(u,r.itemHiddenStyle);i.itemMarginTop=e;i.padding=f;i.initialItemX=f;i.initialItemY=f-5;i.maxItemWidth=0;i.chart=t;i.itemHeight=0;i.lastLineHeight=0;i.render();p(i.chart,"endResize",function(){i.positionCheckboxes()})}},colorizeItem:function(n,t){var o=this.options,r=n.legendItem,s=n.legendLine,h=n.legendSymbol,i=this.itemHiddenStyle.color,o=t?o.itemStyle.color:i,u=t?n.color:i,i=n.options&&n.options.marker,c={stroke:u,fill:u},f;if(r&&r.css({fill:o}),s&&s.attr({stroke:u}),h){if(i)for(f in i=n.convertAttribs(i),i)r=i[f],r!==e&&(c[f]=r);h.attr(c)}},positionItem:function(n){var i=this.options,f=i.symbolPadding,i=!i.rtl,t=n._legendItemPos,r=t[0],t=t[1],u=n.checkbox;n.legendGroup&&n.legendGroup.translate(i?r:this.legendWidth-r-2*f-4,t);u&&(u.x=r,u.y=t)},destroyItem:function(n){var i=n.checkbox;t(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){n[t]&&n[t].destroy()});i&&fr(n.checkbox)},destroy:function(){var n=this.group,t=this.box;t&&(this.box=t.destroy());n&&(this.group=n.destroy())},positionCheckboxes:function(n){var r=this.group.alignAttr,i,u=this.clipHeight||this.legendHeight;r&&(i=r.translateY,t(this.allItems,function(t){var f=t.checkbox,e;f&&(e=i+f.y+(n||0)+3,y(f,{left:r.translateX+t.legendItemWidth+f.x-20+"px",top:e+"px",display:e>i-6&&e<i+u-6?"":tt}))}))},renderItem:function(n){var w,t=this,h=t.chart,e=h.renderer,i=t.options,c=i.layout==="horizontal",r=i.symbolWidth,l=i.symbolPadding,b=t.itemStyle,k=t.itemHiddenStyle,d=t.padding,g=!i.rtl,nt=i.width,v=i.itemMarginBottom||0,y=t.itemMarginTop,s=t.initialItemX,f=n.legendItem,tt=n.series||n,it=tt.options,ut=it.showCheckbox,ft=i.useHTML;!f&&(n.legendGroup=e.g("legend-item").attr({zIndex:1}).add(t.scrollGroup),tt.drawLegendSymbol(t,n),n.legendItem=f=e.text(i.labelFormatter.call(n),g?r+l:-l,t.baseline,ft).css(o(n.visible?b:k)).attr({align:g?"left":"right",zIndex:2}).add(n.legendGroup),(ft?f:n.legendGroup).on("mouseover",function(){n.setState("hover");f.css(t.options.itemHoverStyle)}).on("mouseout",function(){f.css(n.visible?b:k);n.setState()}).on("click",function(t){var i=function(){n.setVisible()},t={browserEvent:t};n.firePointEvent?n.firePointEvent("legendItemClick",t,i):a(n,"legendItemClick",t,i)}),t.colorizeItem(n,n.visible),it&&ut)&&(n.checkbox=rt("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},i.itemCheckboxStyle,h.container),p(n.checkbox,"click",function(t){a(n,"checkboxClick",{checked:t.target.checked},function(){n.select()})}));e=f.getBBox();w=n.legendItemWidth=i.itemWidth||r+l+e.width+d+(ut?20:0);i=w;t.itemHeight=r=e.height;c&&t.itemX-s+i>(nt||h.chartWidth-2*d-s)&&(t.itemX=s,t.itemY+=y+t.lastLineHeight+v,t.lastLineHeight=0);t.maxItemWidth=u(t.maxItemWidth,i);t.lastItemY=y+t.itemY+v;t.lastLineHeight=u(r,t.lastLineHeight);n._legendItemPos=[t.itemX,t.itemY];c?t.itemX+=i:(t.itemY+=y+r+v,t.lastLineHeight=r);t.offsetWidth=nt||u(c?t.itemX-s:i,t.offsetWidth)},render:function(){var n=this,s=n.chart,h=s.renderer,c=n.group,i,l,o,r,u=n.box,e=n.options,v=n.padding,a=e.borderWidth,y=e.backgroundColor;n.itemX=n.initialItemX;n.itemY=n.initialItemY;n.offsetWidth=0;n.lastItemY=0;c||(n.group=c=h.g("legend").attr({zIndex:7}).add(),n.contentGroup=h.g().attr({zIndex:1}).add(c),n.scrollGroup=h.g().add(n.contentGroup),n.clipRect=h.clipRect(0,0,9999,s.chartHeight),n.contentGroup.clip(n.clipRect));i=[];t(s.series,function(n){var t=n.options;t.showInLegend&&(i=i.concat(n.legendItems||(t.legendType==="point"?n.data:n)))});of(i,function(n,t){return(n.options&&n.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});e.reversed&&i.reverse();n.allItems=i;n.display=l=!!i.length;t(i,function(t){n.renderItem(t)});o=e.width||n.offsetWidth;r=n.lastItemY+n.lastLineHeight;r=n.handleOverflow(r);(a||y)&&(o+=v,r+=v,u?o>0&&r>0&&(u[u.isNew?"attr":"animate"](u.crisp(null,null,null,o,r)),u.isNew=!1):(n.box=u=h.rect(0,0,o,r,e.borderRadius,a||0).attr({stroke:e.borderColor,"stroke-width":a||0,fill:y||tt}).add(c).shadow(e.shadow),u.isNew=!0),u[l?"show":"hide"]());n.legendWidth=o;n.legendHeight=r;t(i,function(t){n.positionItem(t)});l&&c.align(f({width:o,height:r},e),!0,s.spacingBox);s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var s=this,u=this.chart,e=u.renderer,f=this.options,i=f.y,i=u.spacingBox.height+(f.verticalAlign==="top"?-i:i)-this.padding,c=f.maxHeight,l=this.clipRect,h=f.navigation,a=n(h.animation,!0),o=h.arrowSize||12,r=this.nav;return f.layout==="horizontal"&&(i/=2),c&&(i=g(i,c)),t>i?(this.clipHeight=u=i-20,this.pageCount=yi(t/u),this.currentPage=n(this.currentPage,1),this.fullHeight=t,l.attr({height:u}),r||(this.nav=r=e.g().attr({zIndex:1}).add(this.group),this.up=e.symbol("triangle",0,0,o,o).on("click",function(){s.scroll(-1,a)}).add(r),this.pager=e.text("",15,10).css(h.style).add(r),this.down=e.symbol("triangle-down",0,0,o,o).on("click",function(){s.scroll(1,a)}).add(r)),s.scroll(0),t=i):r&&(l.attr({height:u.chartHeight}),r.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(n,t){var u=this.pageCount,i=this.currentPage+n,r=this.clipHeight,f=this.options.navigation,o=f.activeColor,s=f.inactiveColor,f=this.pager,h=this.padding;i>u&&(i=u);i>0&&(t!==e&&ai(t,this.chart),this.nav.attr({translateX:h,translateY:r+7,visibility:"visible"}),this.up.attr({fill:i===1?s:o}).css({cursor:i===1?"default":"pointer"}),f.attr({text:i+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===u?s:o}).css({cursor:i===u?"default":"pointer"}),r=-g(r*(i-1),this.fullHeight-r+h)+1,this.scrollGroup.animate({translateY:r}),f.attr({text:i+"/"+u}),this.currentPage=i,this.positionCheckboxes(r))}};vu.prototype={init:function(t,i){var f,u=t.series,e;t.series=null;f=o(nt,t);f.series=t.series=u;var u=f.chart,r=u.margin,r=st(r)?r:[r,r,r,r];if(this.optionsMarginTop=n(u.marginTop,r[0]),this.optionsMarginRight=n(u.marginRight,r[1]),this.optionsMarginBottom=n(u.marginBottom,r[2]),this.optionsMarginLeft=n(u.marginLeft,r[3]),this.runChartClick=(r=u.events)&&!!r.click,this.callback=i,this.isResizing=0,this.options=f,this.axes=[],this.series=[],this.hasCartesianSeries=u.showAxes,this.index=tr.length,tr.push(this),u.reflow!==!1&&p(this,"load",this.initReflow),r)for(e in r)p(this,e,r[e]);this.xAxis=[];this.yAxis=[];this.animation=et?!1:n(u.animation,!0);this.pointCount=0;this.counters=new ef;this.firstRender()},initSeries:function(n){var t=this.options.chart,t=new ct[n.type||t.type||t.defaultSeriesType];return t.init(this,n),t},addSeries:function(t,i,r){var f,u=this;return t&&(ai(r,u),i=n(i,!0),a(u,"addSeries",{options:t},function(){f=u.initSeries(t);u.isDirtyLegend=!0;i&&u.redraw()})),f},isInsidePlot:function(n,t,i){var r=i?t:n,n=i?n:t;return r>=0&&r<=this.plotWidth&&n>=0&&n<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&t(this.axes,function(n){n.adjustTickAmount()});this.maxTicks=null},redraw:function(n){var o=this.axes,i=this.series,u=this.tracker,s=this.legend,h=this.isDirtyLegend,f,e=this.isDirtyBox,c=i.length,r=c,l=this.renderer,v=l.isHidden(),y=[];for(ai(n,this),v&&this.cloneRenderTo();r--;)if(n=i[r],n.isDirty&&n.options.stacking){f=!0;break}if(f)for(r=c;r--;)(n=i[r],n.options.stacking)&&(n.isDirty=!0);t(i,function(n){n.isDirty&&n.options.legendType==="point"&&(h=!0)});h&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1);this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,t(o,function(n){n.setScale()})),this.adjustTickAmounts(),this.getMargins(),t(o,function(n){n.isDirtyExtremes&&(n.isDirtyExtremes=!1,y.push(function(){a(n,"afterSetExtremes",n.getExtremes())}));(n.isDirty||e||f)&&(n.redraw(),e=!0)}));e&&this.drawChartBox();t(i,function(n){n.isDirty&&n.visible&&(!n.isCartesian||n.xAxis)&&n.redraw()});u&&u.resetTracker&&u.resetTracker(!0);l.draw();a(this,"redraw");v&&this.cloneRenderTo(!0);t(y,function(n){n.call()})},showLoading:function(n){var r=this.options,t=this.loadingDiv,i=r.loading;t||(this.loadingDiv=t=rt(bt,{className:"highcharts-loading"},f(i.style,{left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px",zIndex:10,display:tt}),this.container),this.loadingSpan=rt("span",null,i.labelStyle,t));this.loadingSpan.innerHTML=n||r.lang.loading;this.loadingShown||(y(t,{opacity:0,display:""}),rf(t,{opacity:i.style.opacity},{duration:i.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var t=this.options,n=this.loadingDiv;n&&rf(n,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){y(n,{display:tt})}});this.loadingShown=!1},get:function(n){for(var i=this.axes,r=this.series,u,t=0;t<i.length;t++)if(i[t].options.id===n)return i[t];for(t=0;t<r.length;t++)if(r[t].options.id===n)return r[t];for(t=0;t<r.length;t++)for(u=r[t].points||[],i=0;i<u.length;i++)if(u[i].id===n)return u[i];return null},getAxes:function(){var r=this,n=this.options,i=n.xAxis||{},n=n.yAxis||{},i=ri(i);t(i,function(n,t){n.index=t;n.isX=!0});n=ri(n);t(n,function(n,t){n.index=t});i=i.concat(n);t(i,function(n){new hu(r,n)});r.adjustTickAmounts()},getSelectedPoints:function(){var n=[];return t(this.series,function(t){n=n.concat(kf(t.points,function(n){return n.selected}))}),n},getSelectedSeries:function(){return kf(this.series,function(n){return n.selected})},showResetZoom:function(){var n=this,i=nt.lang,t=n.options.chart.resetZoomButton,r=t.theme,u=r.states,f=t.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=n.renderer.button(i.resetZoom,null,null,function(){n.zoomOut()},r,u&&u.hover).attr({align:t.position.align,title:i.resetZoomTitle}).add().align(t.position,!1,n[f]);this.resetZoomButton.alignTo=f},zoomOut:function(){var n=this,t=n.resetZoomButton;a(n,"selection",{resetSelection:!0},function(){n.zoom()});t&&(n.resetZoomButton=t.destroy())},zoom:function(i){var r=this,u;!i||i.resetSelection?t(r.axes,function(n){u=n.zoom()}):t(i.xAxis.concat(i.yAxis),function(n){var t=n.axis;r.tracker[t.isXAxis?"zoomX":"zoomY"]&&(u=t.zoom(n.min,n.max))});r.resetZoomButton||r.showResetZoom();u&&r.redraw(n(r.options.chart.animation,r.pointCount<100))},pan:function(n){var i=this.xAxis[0],r=this.mouseDownX,f=i.pointRange/2,e=i.getExtremes(),o=i.translate(r-n,!0)+f,r=i.translate(r+this.plotWidth-n,!0)-f;(f=this.hoverPoints)&&t(f,function(n){n.setState()});i.series.length&&o>g(e.dataMin,e.min)&&r<u(e.dataMax,e.max)&&i.setExtremes(o,r,!0,!1,{trigger:"pan"});this.mouseDownX=n;y(this.container,{cursor:"move"})},setTitle:function(n,i){var r=this,u=r.options,f;r.chartTitleOptions=f=o(u.title,n);r.chartSubtitleOptions=u=o(u.subtitle,i);t([["title",n,f],["subtitle",i,u]],function(n){var t=n[0],i=r[t],u=n[1],n=n[2];i&&u&&(r[t]=i=i.destroy());n&&n.text&&!i&&(r[t]=r.renderer.text(n.text,0,0,n.useHTML).attr({align:n.align,"class":"highcharts-"+t,zIndex:n.zIndex||4}).css(n.style).add().align(n,!1,r.spacingBox))})},getChartSize:function(){var t=this.options.chart,i=this.renderToClone||this.renderTo;this.containerWidth=uu(i,"width");this.containerHeight=uu(i,"height");this.chartWidth=u(0,n(t.width,this.containerWidth,600));this.chartHeight=u(0,n(t.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(n){var t=this.renderToClone,i=this.container;n?t&&(this.renderTo.appendChild(i),fr(t),delete this.renderToClone):(i&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),y(t,{position:"absolute",top:"-9999px",display:"block"}),c.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var n,i=this.options.chart,t,r,u;this.renderTo=n=i.renderTo;u="highcharts-"+yu++;ti(n)&&(this.renderTo=n=c.getElementById(n));n||er(13,!0);t=h(s(n,"data-highcharts-chart"));!isNaN(t)&&tr[t]&&tr[t].destroy();s(n,"data-highcharts-chart",this.index);n.innerHTML="";n.offsetWidth||this.cloneRenderTo();this.getChartSize();t=this.chartWidth;r=this.chartHeight;this.container=n=rt(bt,{className:"highcharts-container"+(i.className?" "+i.className:""),id:u},f({position:"relative",overflow:"hidden",width:t+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0},i.style),this.renderToClone||n);this.renderer=i.forExport?new dt(n,t,r,!0):new hr(n,t,r);et&&this.renderer.create(this,n,t,r)},getMargins:function(){var f=this.options.chart,l=f.spacingTop,g=f.spacingRight,nt=f.spacingBottom,f=f.spacingLeft,e,o=this.legend,a=this.optionsMarginTop,v=this.optionsMarginLeft,y=this.optionsMarginRight,p=this.optionsMarginBottom,h=this.chartTitleOptions,s=this.chartSubtitleOptions,r=this.options.legend,c=n(r.margin,10),w=r.x,b=r.y,k=r.align,d=r.verticalAlign;this.resetMargins();e=this.axisOffset;(this.title||this.subtitle)&&!i(this.optionsMarginTop)&&(s=u(this.title&&!h.floating&&!h.verticalAlign&&h.y||0,this.subtitle&&!s.floating&&!s.verticalAlign&&s.y||0))&&(this.plotTop=u(this.plotTop,s+n(h.margin,15)+l));o.display&&!r.floating&&(k==="right"?i(y)||(this.marginRight=u(this.marginRight,o.legendWidth-w+c+g)):k==="left"?i(v)||(this.plotLeft=u(this.plotLeft,o.legendWidth+w+c+f)):d==="top"?i(a)||(this.plotTop=u(this.plotTop,o.legendHeight+b+c+l)):d!=="bottom"||i(p)||(this.marginBottom=u(this.marginBottom,o.legendHeight-b+c+nt)));this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&t(this.axes,function(n){n.getOffset()});i(v)||(this.plotLeft+=e[3]);i(a)||(this.plotTop+=e[0]);i(p)||(this.marginBottom+=e[2]);i(y)||(this.marginRight+=e[1]);this.setChartSize()},initReflow:function(){function t(t){var f=i.width||uu(r,"width"),e=i.height||uu(r,"height"),t=t?t.target:w;!n.hasUserSize&&f&&e&&(t===w||t===c)&&((f!==n.containerWidth||e!==n.containerHeight)&&(clearTimeout(u),n.reflowTimeout=u=setTimeout(function(){n.container&&(n.setSize(f,e,!1),n.hasUserSize=null)},100)),n.containerWidth=f,n.containerHeight=e)}var n=this,i=n.options.chart,r=n.renderTo,u;p(w,"resize",t);p(n,"destroy",function(){it(w,"resize",t)})},setSize:function(n,f,e){var o=this,s,h,c=o.resetZoomButton,v=o.title,p=o.subtitle,l;o.isResizing+=1;l=function(){o&&a(o,"endResize",null,function(){o.isResizing-=1})};ai(e,o);o.oldChartHeight=o.chartHeight;o.oldChartWidth=o.chartWidth;i(n)&&(o.chartWidth=s=u(0,r(n)),o.hasUserSize=!!s);i(f)&&(o.chartHeight=h=u(0,r(f)));y(o.container,{width:s+"px",height:h+"px"});o.renderer.setSize(s,h,e);o.plotWidth=s-o.plotLeft-o.marginRight;o.plotHeight=h-o.plotTop-o.marginBottom;o.maxTicks=null;t(o.axes,function(n){n.isDirty=!0;n.setScale()});t(o.series,function(n){n.isDirty=!0});o.isDirtyLegend=!0;o.isDirtyBox=!0;o.getMargins();n=o.spacingBox;v&&v.align(null,null,n);p&&p.align(null,null,n);c&&c.align&&c.align(null,null,o[c.alignTo]);o.redraw(e);o.oldChartHeight=null;a(o,"resize");cr===!1?l():setTimeout(l,cr&&cr.duration||500)},setChartSize:function(){var n=this.inverted,h=this.chartWidth,c=this.chartHeight,i=this.options.chart,l=i.spacingTop,v=i.spacingRight,y=i.spacingBottom,a=i.spacingLeft,o,s,f,e;this.plotLeft=o=r(this.plotLeft);this.plotTop=s=r(this.plotTop);this.plotWidth=f=u(0,r(h-o-this.marginRight));this.plotHeight=e=u(0,r(c-s-this.marginBottom));this.plotSizeX=n?e:f;this.plotSizeY=n?f:e;this.plotBorderWidth=n=i.plotBorderWidth||0;this.spacingBox={x:a,y:l,width:h-a-v,height:c-l-y};this.plotBox={x:o,y:s,width:f,height:e};this.clipBox={x:n/2,y:n/2,width:this.plotSizeX-n,height:this.plotSizeY-n};t(this.axes,function(n){n.setAxisSize();n.setAxisTranslation()})},resetMargins:function(){var t=this.options.chart,i=t.spacingRight,r=t.spacingBottom,u=t.spacingLeft;this.plotTop=n(this.optionsMarginTop,t.spacingTop);this.marginRight=n(this.optionsMarginRight,i);this.marginBottom=n(this.optionsMarginBottom,r);this.plotLeft=n(this.optionsMarginLeft,u);this.axisOffset=[0,0,0,0]},drawChartBox:function(){var n=this.options.chart,r=this.renderer,a=this.chartWidth,v=this.chartHeight,t=this.chartBackground,y=this.plotBackground,h=this.plotBorder,p=this.plotBGImage,u=n.borderWidth||0,w=n.backgroundColor,b=n.plotBackgroundColor,k=n.plotBackgroundImage,c=n.plotBorderWidth||0,i,f=this.plotLeft,e=this.plotTop,o=this.plotWidth,s=this.plotHeight,d=this.plotBox,g=this.clipRect,l=this.clipBox;i=u+(n.shadow?8:0);(u||w)&&(t?t.animate(t.crisp(null,null,null,a-i,v-i)):(t={fill:w||tt},u&&(t.stroke=n.borderColor,t["stroke-width"]=u),this.chartBackground=r.rect(i/2,i/2,a-i,v-i,n.borderRadius,u).attr(t).add().shadow(n.shadow)));b&&(y?y.animate(d):this.plotBackground=r.rect(f,e,o,s,0).attr({fill:b}).add().shadow(n.plotShadow));k&&(p?p.animate(d):this.plotBGImage=r.image(k,f,e,o,s).add());g?g.animate({width:l.width,height:l.height}):this.clipRect=r.clipRect(l);c&&(h?h.animate(h.crisp(null,f,e,o,s)):this.plotBorder=r.rect(f,e,o,s,0,c).attr({stroke:n.plotBorderColor,"stroke-width":c,zIndex:1}).add());this.isDirtyBox=!1},propFromSeries:function(){var i=this,u=i.options.chart,n,f=i.options.series,e,r;t(["inverted","angular","polar"],function(t){for(n=ct[u.type||u.defaultSeriesType],r=i[t]||u[t]||n&&n.prototype[t],e=f&&f.length;!r&&e--;)(n=ct[f[e].type])&&n.prototype[t]&&(r=!0);i[t]=r})},render:function(){var n=this,r=n.axes,u=n.renderer,i=n.options,e=i.labels,i=i.credits,o;n.setTitle();n.legend=new au(n);t(r,function(n){n.setScale()});n.getMargins();n.maxTicks=null;t(r,function(n){n.setTickPositions(!0);n.setMaxTicks()});n.adjustTickAmounts();n.getMargins();n.drawChartBox();n.hasCartesianSeries&&t(r,function(n){n.render()});n.seriesGroup||(n.seriesGroup=u.g("series-group").attr({zIndex:3}).add());t(n.series,function(n){n.translate();n.setTooltipPoints();n.render()});e.items&&t(e.items,function(t){var i=f(e.style,t.style),r=h(i.left)+n.plotLeft,o=h(i.top)+n.plotTop+12;delete i.left;delete i.top;u.text(t.html,r,o).attr({zIndex:2}).css(i).add()});i.enabled&&!n.credits&&(o=i.href,n.credits=u.text(i.text,0,0).on("click",function(){o&&(location.href=o)}).attr({align:i.position.align,zIndex:8}).css(i.style).add().align(i.position));n.hasRendered=!0},destroy:function(){var n=this,u=n.axes,f=n.series,r=n.container,i,o=r&&r.parentNode;for(a(n,"destroy"),tr[n.index]=e,n.renderTo.removeAttribute("data-highcharts-chart"),it(n),i=u.length;i--;)u[i]=u[i].destroy();for(i=f.length;i--;)f[i]=f[i].destroy();t("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,tracker,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=n[t];i&&i.destroy&&(n[t]=i.destroy())});r&&(r.innerHTML="",it(r),o&&fr(r));for(i in n)delete n[i]},isReadyToRender:function(){var n=this;return!vt&&w==w.top&&c.readyState!=="complete"||et&&!w.canvg?(et?gf.push(function(){n.firstRender()},n.options.global.canvasToolsURL):c.attachEvent("onreadystatechange",function(){c.detachEvent("onreadystatechange",n.firstRender);c.readyState==="complete"&&n.firstRender()}),!1):!0},firstRender:function(){var n=this,i=n.options,r=n.callback;n.isReadyToRender()&&(n.getContainer(),a(n,"init"),Highcharts.RangeSelector&&i.rangeSelector.enabled&&(n.rangeSelector=new Highcharts.RangeSelector(n)),n.resetMargins(),n.setChartSize(),n.propFromSeries(),n.getAxes(),t(i.series||[],function(t){n.initSeries(t)}),Highcharts.Scroller&&(i.navigator.enabled||i.scrollbar.enabled)&&(n.scroller=new Highcharts.Scroller(n)),n.tracker=new lu(n,i),n.render(),n.renderer.draw(),r&&r.apply(n,[n]),t(n.callbacks,function(t){t.apply(n,[n])}),n.cloneRenderTo(!0),a(n,"load"))}};vu.prototype.callbacks=[];ir=function(){};ir.prototype={init:function(n,t,i){var r=n.chart.counters;return this.series=n,this.applyOptions(t,i),this.pointAttr={},n.options.colorByPoint&&(t=n.chart.options.colors,this.color=this.color||t[r.color++],r.wrapColor(t.length)),n.chart.pointCount++,this},applyOptions:function(n,t){var i=this.series,r=typeof n;this.config=n;r==="number"||n===null?this.y=n:typeof n[0]=="number"?(this.x=n[0],this.y=n[1]):r==="object"&&typeof n.length!="number"?(f(this,n),this.options=n,n.dataLabels&&(i._hasPointLabels=!0),n.marker&&(i._hasPointMarkers=!0)):typeof n[0]=="string"&&(this.name=n[0],this.y=n[1]);this.x===e&&(this.x=t===e?i.autoIncrement():t)},destroy:function(){var n=this.series.chart,t=n.hoverPoints,i;n.pointCount--;t&&(this.setState(),hi(t,this),!t.length)&&(n.hoverPoints=null);this===n.hoverPoint&&this.onMouseOut();(this.graphic||this.dataLabel)&&(it(this),this.destroyElements());this.legendItem&&n.legend.destroyItem(this);for(i in this)this[i]=null},destroyElements:function(){for(var i="graphic,tracker,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n,t=6;t--;)n=i[t],this[n]&&(this[n]=this[n].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(i,r){var u=this,f=u.series.chart,i=n(i,!u.selected);u.firePointEvent(i?"select":"unselect",{accumulate:r},function(){u.selected=i;u.setState(i&&"select");r||t(f.getSelectedPoints(),function(n){n.selected&&n!==u&&(n.selected=!1,n.setState(""),n.firePointEvent("unselect"))})})},onMouseOver:function(){var r=this.series,n=r.chart,t=n.tooltip,i=n.hoverPoint;i&&i!==this&&i.onMouseOut();this.firePointEvent("mouseOver");t&&(!t.shared||r.noSharedTooltip)&&t.refresh(this);this.setState("hover");n.hoverPoint=this},onMouseOut:function(){var n=this.series.chart,t=n.hoverPoints;t&&ie(this,t)!==-1||(this.firePointEvent("mouseOut"),this.setState(),n.hoverPoint=null)},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,o=t.match(/\{(series|point)\.[a-zA-Z]+\}/g),r,f,u,s,h={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};i.valuePrefix=i.valuePrefix||i.yPrefix;i.valueDecimals=n(i.valueDecimals,i.yDecimals);i.valueSuffix=i.valueSuffix||i.ySuffix;for(s in o)f=o[s],ti(f)&&f!==t&&(u=(" "+f).split(/[{\.}]/),r={point:this,series:e}[u[1]],u=u[2],r===this&&h.hasOwnProperty(u)?(r=h[u]?u:"value",r=(i[r+"Prefix"]||"")+ur(this[u],n(i[r+"Decimals"],-1))+(i[r+"Suffix"]||"")):r=r[u],t=t.replace(f,r));return t},update:function(t,i,r){var u=this,f=u.series,o=u.graphic,e,s=f.data,h=s.length,c=f.chart,i=n(i,!0);u.firePointEvent("update",{options:t},function(){for(u.applyOptions(t),st(t)&&(f.getAttribs(),o&&o.attr(u.pointAttr[f.state])),e=0;e<h;e++)if(s[e]===u){f.xData[e]=u.x;f.yData[e]=u.toYData?u.toYData():u.y;f.options.data[e]=t;break}f.isDirty=!0;f.isDirtyData=!0;i&&c.redraw(r)})},remove:function(t,i){var f=this,u=f.series,o=u.chart,r,e=u.data,s=e.length;ai(i,o);t=n(t,!0);f.firePointEvent("remove",null,function(){for(r=0;r<s;r++)if(e[r]===f){e.splice(r,1);u.options.data.splice(r,1);u.xData.splice(r,1);u.yData.splice(r,1);break}f.destroy();u.isDirty=!0;u.isDirtyData=!0;t&&o.redraw()})},firePointEvent:function(n,t,i){var r=this,u=this.series.options;(u.point.events[n]||r.options&&r.options.events&&r.options.events[n])&&this.importEvents();n==="click"&&u.allowPointSelect&&(i=function(n){r.select(null,n.ctrlKey||n.metaKey||n.shiftKey)});a(this,n,t,i)},importEvents:function(){if(!this.hasImportedEvents){var n=o(this.series.options.point,this.options).events,t;this.events=n;for(t in n)p(this,t,n[t]);this.hasImportedEvents=!0}},setState:function(n){var e=this.plotX,s=this.plotY,i=this.series,t=i.options.states,r=ot[i.type].marker&&i.options.marker,l=r&&!r.enabled,u=r&&r.states[n],a=u&&u.enabled===!1,f=i.stateMarkerGraphic,c=i.chart,h=this.pointAttr,n=n||"";n===this.state||this.selected&&n!=="select"||t[n]&&t[n].enabled===!1||n&&(a||l&&!u.enabled)||(this.graphic?(t=r&&this.graphic.symbolName&&h[n].r,this.graphic.attr(o(h[n],t?{x:e-t,y:s-t,width:2*t,height:2*t}:{}))):(n&&u&&(t=u.radius,f?f.attr({x:e-t,y:s-t}):i.stateMarkerGraphic=f=c.renderer.symbol(i.symbol,e-t,s-t,2*t,2*t).attr(h[n]).add(i.markerGroup)),f&&f[n&&c.isInsidePlot(e,s)?"show":"hide"]()),this.state=n)}};d=function(){};d.prototype={isCartesian:!0,type:"line",pointClass:ir,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(n,i){var u,r;this.chart=n;this.options=i=this.setOptions(i);this.bindAxes();f(this,{name:i.name,state:"",pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0});et&&(i.animation=!1);r=i.events;for(u in r)p(this,u,r[u]);(r&&r.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(n.runTrackerClick=!0);this.getColor();this.getSymbol();this.setData(i.data,!1);this.isCartesian&&(n.hasCartesianSeries=!0);n.series.push(this);of(n.series,function(n,t){return(n.options.index||0)-(t.options.index||0)});t(n.series,function(n,t){n.index=t;n.name=n.name||"Series "+(t+1)})},bindAxes:function(){var n=this,r=n.options,u=n.chart,i;n.isCartesian&&t(["xAxis","yAxis"],function(f){t(u[f],function(t){i=t.options;(r[f]===i.index||r[f]===e&&i.index===0)&&(t.series.push(n),n[f]=t,t.isDirty=!0)})})},autoIncrement:function(){var i=this.options,t=this.xIncrement,t=n(t,i.pointStart,0);return this.pointInterval=n(this.pointInterval,i.pointInterval,1),this.xIncrement=t+this.pointInterval,t},getSegments:function(){var i=-1,r=[],u,n=this.points,f=n.length;if(f)if(this.options.connectNulls){for(u=f;u--;)n[u].y===null&&n.splice(u,1);n.length&&(r=[n])}else t(n,function(t,u){t.y===null?(u>i+1&&r.push(n.slice(i+1,u)),i=u):u===f-1&&r.push(n.slice(i+1,u+1))});this.segments=r},setOptions:function(n){var i=this.chart.options,t=i.plotOptions,r=t[this.type],u=n.data;return n.data=null,t=o(r,t.series,n),t.data=n.data=u,this.tooltipOptions=o(i.tooltip,t.tooltip),r.marker===null&&delete t.marker,t},getColor:function(){var n=this.options,t=this.chart.options.colors,i=this.chart.counters;this.color=n.color||!n.colorByPoint&&t[i.color++]||"gray";i.wrapColor(t.length)},getSymbol:function(){var t=this.options.marker,n=this.chart,i=n.options.symbols,n=n.counters;this.symbol=t.symbol||i[n.symbol++];/^url/.test(this.symbol)&&(t.radius=0);n.wrapSymbol(i.length)},drawLegendSymbol:function(n){var t=this.options,i=t.marker,u=n.options.symbolWidth,f=this.chart.renderer,e=this.legendGroup,n=n.baseline,r;t.lineWidth&&(r={"stroke-width":t.lineWidth},t.dashStyle&&(r.dashstyle=t.dashStyle),this.legendLine=f.path(["M",0,n-4,"L",u,n-4]).attr(r).add(e));i&&i.enabled&&(t=i.radius,this.legendSymbol=f.symbol(this.symbol,u/2-t,n-4-t,2*t,2*t).add(e))},addPoint:function(t,i,r,u){var h=this.options,f=this.data,e=this.graph,o=this.area,c=this.chart,l=this.xData,a=this.yData,v=e&&e.shift||0,y=h.data,s=this.pointClass.prototype;ai(u,c);e&&r&&(e.shift=v+1);o&&(r&&(o.shift=v+1),o.isArea=!0);i=n(i,!0);u={series:this};s.applyOptions.apply(u,[t]);l.push(u.x);a.push(s.toYData?s.toYData.call(u):u.y);y.push(t);h.legendType==="point"&&this.generatePoints();r&&(f[0]&&f[0].remove?f[0].remove(!1):(f.shift(),l.shift(),a.shift(),y.shift()));this.getAttribs();this.isDirtyData=this.isDirty=!0;i&&c.redraw()},setData:function(t,r){var c=this.points,f=this.options,e=this.initialColor,v=this.chart,a=null,l=this.xAxis,u,o=this.pointClass.prototype;this.xIncrement=null;this.pointRange=l&&l.categories?1:f.pointRange;i(e)&&(v.counters.color=e);var e=[],s=[],h=t?t.length:[],y=(u=this.pointArrayMap)&&u.length;if(h>(f.turboThreshold||1e3)){for(u=0;a===null&&u<h;)a=t[u],u++;if(ki(a)){for(o=n(f.pointStart,0),f=n(f.pointInterval,1),u=0;u<h;u++)e[u]=o,s[u]=t[u],o+=f;this.xIncrement=o}else if(rr(a))if(y)for(u=0;u<h;u++)f=t[u],e[u]=f[0],s[u]=f.slice(1,y+1);else for(u=0;u<h;u++)f=t[u],e[u]=f[0],s[u]=f[1]}else for(u=0;u<h;u++)f={series:this},o.applyOptions.apply(f,[t[u]]),e[u]=f.x,s[u]=o.toYData?o.toYData.call(f):f.y;for(this.requireSorting&&e.length>1&&e[1]<e[0]&&er(15),ti(s[0])&&er(14,!0),this.data=[],this.options.data=t,this.xData=e,this.yData=s,u=c&&c.length||0;u--;)c[u]&&c[u].destroy&&c[u].destroy();l&&(l.minRange=l.userMinRange);this.isDirty=this.isDirtyData=v.isDirtyBox=!0;n(r,!0)&&v.redraw(!1)},remove:function(t,i){var r=this,u=r.chart,t=n(t,!0);r.isRemoving||(r.isRemoving=!0,a(r,"remove",null,function(){r.destroy();u.isDirtyLegend=u.isDirtyBox=!0;t&&u.redraw(i)}));r.isRemoving=!1},processData:function(n){var t=this.xData,s=this.yData,i=t.length,h=0,c=i,l,o,r=this.xAxis,a=this.options,f=a.cropThreshold,v=this.isCartesian;if(v&&!this.isDirty&&!r.isDirty&&!this.yAxis.isDirty&&!n)return!1;if(v&&this.sorted&&(!f||i>f||this.forceCrop))if(n=r.getExtremes(),r=n.min,f=n.max,t[i-1]<r||t[0]>f)t=[],s=[];else if(t[0]<r||t[i-1]>f){for(n=0;n<i;n++)if(t[n]>=r){h=u(0,n-1);break}for(;n<i;n++)if(t[n]>f){c=n+1;break}t=t.slice(h,c);s=s.slice(h,c);l=!0}for(n=t.length-1;n>0;n--)(i=t[n]-t[n-1],i>0&&(o===e||i<o))&&(o=i);this.cropped=l;this.cropStart=h;this.processedXData=t;this.processedYData=s;a.pointRange===null&&(this.pointRange=o||1);this.closestPointRange=o},generatePoints:function(){var u=this.options.data,t=this.data,c,f=this.processedXData,v=this.processedYData,l=this.pointClass,o=f.length,a=this.cropStart||0,i,r=this.hasGroupedData,s,h=[],n;for(t||r||(t=[],t.length=u.length,t=this.data=t),n=0;n<o;n++)i=a+n,r?h[n]=(new l).init(this,[f[n]].concat(ri(v[n]))):(t[i]?s=t[i]:u[i]!==e&&(t[i]=s=(new l).init(this,u[i],f[n])),h[n]=s);if(t&&(o!==(c=t.length)||r))for(n=0;n<c;n++)(n===a&&!r&&(n+=o),t[n])&&(t[n].destroyElements(),t[n].plotX=e);this.data=t;this.points=h},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var v=this.chart,c=this.options,y=c.stacking,p=this.xAxis,l=p.categories,h=this.yAxis,w=this.points,k=w.length,d=!!this.modifyValue,b,t=h.series,s=t.length,g=c.pointPlacement==="between";s--;)if(t[s].visible){t[s]===this&&(b=!0);break}for(s=0;s<k;s++){var t=w[s],f=t.x,o=t.y,u=t.low,a=h.stacks[(o<c.threshold?"-":"")+this.stackKey];t.plotX=p.translate(f,0,0,0,1,g);y&&this.visible&&a&&a[f]&&(u=a[f],f=u.total,u.cum=u=u.cum-o,o=u+o,b&&(u=n(c.threshold,h.min)),h.isLog&&u<=0&&(u=null),y==="percent"&&(u=f?u*100/f:0,o=f?o*100/f:0),t.percentage=f?t.y*100/f:0,t.total=t.stackTotal=f,t.stackY=o);t.yBottom=i(u)?h.translate(u,0,1,0,1):null;d&&(o=this.modifyValue(o,t));t.plotY=typeof o=="number"?r(h.translate(o,0,1,0,1)*10)/10:e;t.clientX=v.inverted?v.plotHeight-t.plotX:t.plotX;t.category=l&&l[t.x]!==e?l[t.x]:t.x}this.getSegments()},setTooltipPoints:function(n){var r=[],i,e,s=(i=this.xAxis)?i.tooltipLen||i.len:this.chart.plotSizeX,h=i&&i.tooltipPosName||"plotX",o,f,c=[];if(this.options.enableMouseTracking!==!1){for(n&&(this.tooltipPoints=null),t(this.segments||this.points,function(n){r=r.concat(n)}),i&&i.reversed&&(r=r.reverse()),n=r.length,f=0;f<n;f++)for(o=r[f],i=r[f-1]?e+1:0,e=r[f+1]?u(0,ut((o[h]+(r[f+1]?r[f+1][h]:s))/2)):s;i>=0&&i<=e;)c[i++]=o;this.tooltipPoints=c}},tooltipHeaderFormatter:function(n){var t=this.tooltipOptions,i=t.xDateFormat,r=this.xAxis,f=r&&r.options.type==="datetime",u;if(f&&!i)for(u in l)if(l[u]>=r.closestPointRange){i=t.dateTimeLabelFormats[u];break}return t.headerFormat.replace("{point.key}",f&&ki(n)?dr(i,n):n).replace("{series.name}",this.name).replace("{series.color}",this.color)},onMouseOver:function(){var t=this.chart,n=t.hoverSeries;n&&n!==this&&n.onMouseOut();this.options.events.mouseOver&&a(this,"mouseOver");this.setState("hover");t.hoverSeries=this},onMouseOut:function(){var i=this.options,n=this.chart,t=n.tooltip,r=n.hoverPoint;r&&r.onMouseOut();this&&i.events.mouseOut&&a(this,"mouseOut");!t||i.stickyTracking||t.shared||t.hide();this.setState();n.hoverSeries=null},animate:function(n){var r=this,t=r.chart,o=t.renderer,i,s,e,u;i=r.options.animation;s=t.clipBox;e=t.inverted;i&&!st(i)&&(i=ot[r.type].animation);u="_sharedClip"+i.duration+i.easing;n?(n=t[u],i=t[u+"m"],n||(t[u]=n=o.clipRect(f(s,{width:0})),t[u+"m"]=i=o.clipRect(-99,e?-t.plotLeft:-t.plotTop,99,e?t.chartWidth:t.chartHeight)),r.group.clip(n),r.markerGroup.clip(i),r.sharedClipKey=u):((n=t[u])&&(n.animate({width:t.plotSizeX},i),t[u+"m"].animate({width:t.plotSizeX+99},i)),r.animate=null,r.animationTimeout=setTimeout(function(){r.afterAnimate()},i.duration))},afterAnimate:function(){var n=this.chart,t=this.sharedClipKey,i=this.group,r=this.trackerGroup;i&&this.options.clip!==!1&&(i.clip(n.clipRect),r&&r.clip(n.clipRect),this.markerGroup.clip());setTimeout(function(){t&&n[t]&&(n[t]=n[t].destroy(),n[t+"m"]=n[t+"m"].destroy())},100)},drawPoints:function(){var s,v=this.points,c=this.chart,h,u,l,i,t,r,y,o,p=this.options.marker,a,w=this.markerGroup;if(p.enabled||this._hasPointMarkers)for(l=v.length;l--;)(i=v[l],h=i.plotX,u=i.plotY,o=i.graphic,r=i.marker||{},s=p.enabled&&r.enabled===e||r.enabled,a=c.isInsidePlot(h,u,c.inverted),s&&u!==e&&!isNaN(u))?(s=i.pointAttr[i.selected?"select":""],t=s.r,r=n(r.symbol,this.symbol),y=r.indexOf("url")===0,o)?o.attr({visibility:a?vt?"inherit":"visible":"hidden"}).animate(f({x:h-t,y:u-t},o.symbolName?{width:2*t,height:2*t}:{})):a&&(t>0||y)&&(i.graphic=c.renderer.symbol(r,h-t,u-t,2*t,2*t).attr(s).add(w)):o&&(i.graphic=o.destroy())},convertAttribs:function(t,i,r,u){var e=this.pointAttrToOptions,f,o,s={},t=t||{},i=i||{},r=r||{},u=u||{};for(f in e)o=e[f],s[f]=n(t[o],i[f],r[f],u[f]);return s},getAttribs:function(){var n=this,r=ot[n.type].marker?n.options.marker:n.options,h=r.states,u=h.hover,c,l=n.color,e={stroke:l,fill:l},a=n.points||[],o=[],s,v=n.pointAttrToOptions,y;for(n.options.marker?(u.radius=u.radius||r.radius+2,u.lineWidth=u.lineWidth||r.lineWidth+1):u.color=u.color||kt(u.color||l).brighten(u.brightness).get(),o[""]=n.convertAttribs(r,e),t(["hover","select"],function(t){o[t]=n.convertAttribs(h[t],o[""])}),n.pointAttr=o,l=a.length;l--;){if(e=a[l],(r=e.options&&e.options.marker||e.options)&&r.enabled===!1&&(r.radius=0),c=n.options.colorByPoint,e.options)for(y in v)i(r[v[y]])&&(c=!0);c?(r=r||{},s=[],h=r.states||{},c=h.hover=h.hover||{},n.options.marker||(c.color=kt(c.color||e.color).brighten(c.brightness||u.brightness).get()),s[""]=n.convertAttribs(f({color:e.color},r),o[""]),s.hover=n.convertAttribs(h.hover,o.hover,s[""]),s.select=n.convertAttribs(h.select,o.select,s[""])):s=o;e.pointAttr=s}},destroy:function(){var n=this,i=n.chart,h=/AppleWebKit\/533/.test(ui),e,r,o=n.data||[],u,s,f;for(a(n,"destroy"),it(n),t(["xAxis","yAxis"],function(t){(f=n[t])&&(hi(f.series,n),f.isDirty=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),r=o.length;r--;)(u=o[r])&&u.destroy&&u.destroy();n.points=null;clearTimeout(n.animationTimeout);t("area,graph,dataLabelsGroup,group,markerGroup,tracker,trackerGroup".split(","),function(t){n[t]&&(e=h&&t==="group"?"hide":"destroy",n[t][e]())});i.hoverSeries===n&&(i.hoverSeries=null);hi(i.series,n);for(s in n)delete n[s]},drawDataLabels:function(){var u=this,r=u.options.dataLabels,l=u.points,f,h,s,c;(r.enabled||u._hasPointLabels)&&(u.dlProcessOptions&&u.dlProcessOptions(r),c=u.plotGroup("dataLabelsGroup","data-labels",u.visible?"visible":"hidden",r.zIndex||6),h=r,t(l,function(t){var a,l=t.dataLabel,v,y=!0;if(f=t.options&&t.options.dataLabels,a=h.enabled||f&&f.enabled,l&&!a)t.dataLabel=l.destroy();else if(a){if(a=r.rotation,r=o(h,f),s=r.formatter.call(t.getLabelConfig(),r),r.style.color=n(r.color,r.style.color,u.color,"black"),l)l.attr({text:s}),y=!1;else if(i(s)){l={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:a,padding:r.padding,zIndex:1};for(v in l)l[v]===e&&delete l[v];l=t.dataLabel=u.chart.renderer[a?"text":"label"](s,0,-999,null,null,null,r.useHTML).attr(l).css(r.style).add(c).shadow(r.shadow)}l&&u.alignDataLabel(t,l,r,null,y)}}))},alignDataLabel:function(t,i,u,e,o){var s=this.chart,h=s.inverted,c=n(t.plotX,-999),t=n(t.plotY,-999),l=i.getBBox(),e=f({x:h?s.plotWidth-t:c,y:r(h?s.plotHeight-c:t),width:0,height:0},e);f(u,{width:l.width,height:l.height});u.rotation?(e={align:u.align,x:e.x+u.x+e.width/2,y:e.y+u.y+e.height/2},i[o?"attr":"animate"](e)):(i.align(u,null,e),e=i.alignAttr);i.attr({visibility:u.crop===!1||s.isInsidePlot(e.x,e.y)||s.isInsidePlot(c,t,h)?s.renderer.isSVG?"inherit":"visible":"hidden"})},getSegmentPath:function(n){var r=this,i=[],u=r.options.step;return t(n,function(t,f){var o=t.plotX,s=t.plotY,e;r.getPointSpline?i.push.apply(i,r.getPointSpline(n,t,f)):(i.push(f?"L":"M"),u&&f&&(e=n[f-1],u==="right"?i.push(e.plotX,s):u==="center"?i.push((e.plotX+o)/2,e.plotY,(e.plotX+o)/2,s):i.push(o,e.plotY)),i.push(t.plotX,t.plotY))}),i},getGraphPath:function(){var n=this,i=[],r,u=[];return t(n.segments,function(t){r=n.getSegmentPath(t);t.length>1?i=i.concat(r):u.push(t[0])}),n.singlePoints=u,n.graphPath=i},drawGraph:function(){var t=this.options,n=this.graph,f=this.group,e=t.lineColor||this.color,i=t.lineWidth,r=t.dashStyle,u=this.getGraphPath();n?(fu(n),n.animate({d:u})):i&&(n={stroke:e,"stroke-width":i,zIndex:1},r&&(n.dashstyle=r),this.graph=this.chart.renderer.path(u).attr(n).add(f).shadow(t.shadow))},invertGroups:function(){function i(){var i={width:n.yAxis.len,height:n.xAxis.len};t(["group","trackerGroup","markerGroup"],function(t){n[t]&&n[t].attr(i).invert()})}var n=this,r=n.chart;p(r,"resize",i);p(n,"destroy",function(){it(r,"resize",i)});i();n.invertGroups=i},plotGroup:function(n,t,i,r,u){var f=this[n],e=this.chart,o=this.xAxis,s=this.yAxis;return f||(this[n]=f=e.renderer.g(t).attr({visibility:i,zIndex:r||.1}).add(u)),f.translate(o?o.left:e.plotLeft,s?s.top:e.plotTop),f},render:function(){var n=this.chart,t,i=this.options,r=i.animation&&!!this.animate,u=this.visible?"visible":"hidden",f=i.zIndex,e=this.hasRendered,o=n.seriesGroup;t=this.plotGroup("group","series",u,f,o);this.markerGroup=this.plotGroup("markerGroup","markers",u,f,o);r&&this.animate(!0);this.getAttribs();t.inverted=n.inverted;this.drawGraph&&this.drawGraph();this.drawPoints();this.drawDataLabels();this.options.enableMouseTracking!==!1&&this.drawTracker();n.inverted&&this.invertGroups();i.clip===!1||this.sharedClipKey||e||(t.clip(n.clipRect),this.trackerGroup&&this.trackerGroup.clip(n.clipRect));r?this.animate():e||this.afterAnimate();this.isDirty=this.isDirtyData=!1;this.hasRendered=!0},redraw:function(){var n=this.chart,i=this.isDirtyData,t=this.group;t&&(n.inverted&&t.attr({width:n.plotWidth,height:n.plotHeight}),t.animate({translateX:this.xAxis.left,translateY:this.yAxis.top}));this.translate();this.setTooltipPoints(!0);this.render();i&&a(this,"updatedData")},setState:function(n){var t=this.options,i=this.graph,r=t.states,t=t.lineWidth,n=n||"";this.state!==n&&(this.state=n,r[n]&&r[n].enabled===!1||(n&&(t=r[n].lineWidth||t+1),i&&!i.dashstyle&&i.attr({"stroke-width":t},n?0:500)))},setVisible:function(n,i){var u=this.chart,l=this.legendItem,f=this.group,o=this.tracker,h=this.dataLabelsGroup,c=this.markerGroup,r,s=this.points,v=u.options.chart.ignoreHiddenSeries;if(r=this.visible,r=(this.visible=n=n===e?!r:n)?"show":"hide",f&&f[r](),c&&c[r](),o)o[r]();else if(s)for(f=s.length;f--;)(o=s[f],o.tracker)&&o.tracker[r]();u.hoverSeries===this&&this.onMouseOut();h&&h[r]();l&&u.legend.colorizeItem(this,n);this.isDirty=!0;this.options.stacking&&t(u.series,function(n){n.options.stacking&&n.visible&&(n.isDirty=!0)});v&&(u.isDirtyBox=!0);i!==!1&&u.redraw();a(this,r)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){this.selected=n=n===e?!this.selected:n;this.checkbox&&(this.checkbox.checked=n);a(this,n?"select":"unselect")},drawTracker:function(){var i=this,u=i.options,e=u.trackByArea,t=[].concat(e?i.areaPath:i.graphPath),r=t.length,o=i.chart,a=o.renderer,f=o.options.tooltip.snap,s=i.tracker,h=u.cursor,h=h&&{cursor:h},c=i.singlePoints,v=this.isCartesian&&this.plotGroup("trackerGroup",null,"visible",u.zIndex||1,o.trackerGroup),n,l=function(){o.hoverSeries!==i&&i.onMouseOver()},y=function(){u.stickyTracking||i.onMouseOut()};if(r&&!e)for(n=r+1;n--;)t[n]==="M"&&t.splice(n+1,0,t[n+1]-f,t[n+2],"L"),(n&&t[n]==="M"||n===r)&&t.splice(n,0,"L",t[n-2]+f,t[n-1]);for(n=0;n<c.length;n++)r=c[n],t.push("M",r.plotX-f,r.plotY,"L",r.plotX+f,r.plotY);if(s)s.attr({d:t});else if(i.tracker=s=a.path(t).attr({isTracker:!0,"stroke-linejoin":"round",visibility:i.visible?"visible":"hidden",stroke:wu,fill:e?wu:tt,"stroke-width":u.lineWidth+(e?0:2*f)}).on("mouseover",l).on("mouseout",y).css(h).add(v),wi)s.on("touchstart",l)}};v=at(d);ct.line=v;ot.area=o(yt,{threshold:0});v=at(d,{type:"area",getSegmentPath:function(n){var i=d.prototype.getSegmentPath.call(this,n),r=[].concat(i),t,u=this.options;if(i.length===3&&r.push("L",i[1],i[2]),u.stacking&&!this.closedStacks)for(t=n.length-1;t>=0;t--)t<n.length-1&&u.step&&r.push(n[t+1].plotX,n[t].yBottom),r.push(n[t].plotX,n[t].yBottom);else this.closeSegment(r,n);return this.areaPath=this.areaPath.concat(r),i},closeSegment:function(n,t){var i=this.yAxis.getThreshold(this.options.threshold);n.push("L",t[t.length-1].plotX,i,"L",t[0].plotX,i)},drawGraph:function(){this.areaPath=[];d.prototype.drawGraph.apply(this);var t=this.areaPath,i=this.options,r=this.area;r?r.animate({d:t}):this.area=this.chart.renderer.path(t).attr({fill:n(i.fillColor,kt(this.color).setOpacity(i.fillOpacity||.75).get()),zIndex:0}).add(this.group)},drawLegendSymbol:function(n,t){t.legendSymbol=this.chart.renderer.rect(0,n.baseline-11,n.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}});ct.area=v;ot.spline=o(yt);pt=at(d,{type:"spline",getPointSpline:function(n,t,i){var h=t.plotX,r=t.plotY,o=n[i-1],s=n[i+1],l,e,c,f,a;return o&&s&&(n=o.plotY,c=s.plotX,s=s.plotY,l=(1.5*h+o.plotX)/2.5,e=(1.5*r+n)/2.5,c=(1.5*h+c)/2.5,f=(1.5*r+s)/2.5,a=(f-e)*(c-h)/(c-l)+r-f,e+=a,f+=a,e>n&&e>r?(e=u(n,r),f=2*r-e):e<n&&e<r&&(e=g(n,r),f=2*r-e),f>s&&f>r?(f=u(s,r),e=2*r-f):f<s&&f<r&&(f=g(s,r),e=2*r-f),t.rightContX=c,t.rightContY=f),i?(t=["C",o.rightContX||o.plotX,o.rightContY||o.plotY,l||h,e||r,h,r],o.rightContX=o.rightContY=null):t=["M",h,r],t}});ct.spline=pt;ot.areaspline=o(ot.area);si=v.prototype;pt=at(pt,{type:"areaspline",closedStacks:!0,getSegmentPath:si.getSegmentPath,closeSegment:si.closeSegment,drawGraph:si.drawGraph});ct.areaspline=pt;ot.column=o(yt,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},threshold:0});pt=at(d,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){d.prototype.init.apply(this,arguments);var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)})},translate:function(){var r=this,tt=r.chart,f=r.options,st=f.stacking,y=f.borderWidth,c=0,s=r.xAxis,p=r.yAxis,it=s.reversed,w={},l,b;d.prototype.translate.apply(r);f.grouping===!1?c=1:t(tt.series,function(n){var t=n.options;n.type===r.type&&n.visible&&r.options.group===t.group&&(t.stacking?(l=n.stackKey,w[l]===e&&(w[l]=c++),b=w[l]):t.grouping!==!1&&(b=c++),n.columnIndex=b)});var ht=r.points,s=k(s.transA)*(s.ordinalSlope||f.pointRange||s.closestPointRange||1),rt=s*f.groupPadding,a=(s-2*rt)/c,nt=f.pointWidth,ut=i(nt)?(a-nt)/2:a*f.pointPadding,ft=n(nt,a-2*ut),et=yi(u(ft,1+2*y)),ot=ut+(rt+((it?c-(r.columnIndex||0):r.columnIndex)||0)*a-s/2)*(it?-1:1),v=r.translatedThreshold=p.getThreshold(f.threshold),h=n(f.minPointLength,5);t(ht,function(t){var i=g(u(-999,t.plotY),p.len+999),s=n(t.yBottom,v),l=t.plotX+ot,f=yi(g(i,s)),e=yi(u(i,s)-f),c=p.stacks[(t.y<0?"-":"")+r.stackKey];st&&r.visible&&c&&c[t.x]&&c[t.x].setOffset(ot,et);k(e)<h&&h&&(e=h,f=k(f-v)>h?s-h:v-(i<=v?h:0));t.barX=l;t.pointWidth=ft;t.shapeType="rect";t.shapeArgs=i=tt.renderer.Element.prototype.crisp.call(0,y,l,f,et,e);y%2&&(i.y-=1,i.height+=1);t.trackerArgs=k(e)<3&&o(t.shapeArgs,{height:6,y:f-3})})},getSymbol:ei,drawLegendSymbol:v.prototype.drawLegendSymbol,drawGraph:ei,drawPoints:function(){var n=this,i=n.options,u=n.chart.renderer,r;t(n.points,function(t){var s=t.plotY,f=t.graphic;s===e||isNaN(s)||t.y===null?f&&(t.graphic=f.destroy()):(r=t.shapeArgs,f?(fu(f),f.animate(o(r))):t.graphic=u[t.shapeType](r).attr(t.pointAttr[t.selected?"select":""]).add(n.group).shadow(i.shadow,null,i.stacking&&!i.borderRadius))})},drawTracker:function(){for(var n=this,o=n.chart,y=o.renderer,i,r,h=+new Date,c=n.options,p=(i=c.cursor)&&{cursor:i},w=n.isCartesian&&n.plotGroup("trackerGroup",null,"visible",c.zIndex||1,o.trackerGroup),f,u,l=n.points,t,a=l.length,v=function(t){f=t.relatedTarget||t.fromElement;o.hoverSeries!==n&&s(f,"isTracker")!==h&&n.onMouseOver();l[t.target._i].onMouseOver()},b=function(t){c.stickyTracking||(f=t.relatedTarget||t.toElement,s(f,"isTracker")===h)||n.onMouseOut()};a--;)if(t=l[a],r=t.tracker,i=t.trackerArgs||t.shapeArgs,u=t.plotY,u=!n.isCartesian||u!==e&&!isNaN(u),delete i.strokeWidth,t.y!==null&&u){if(r)r.attr(i);else if(t.tracker=r=y[t.shapeType](i).attr({isTracker:h,fill:wu,visibility:n.visible?"visible":"hidden"}).on("mouseover",v).on("mouseout",b).css(p).add(t.group||w),wi)r.on("touchstart",v);r.element._i=a}},alignDataLabel:function(t,i,r,u,f){var e=this.chart,s=e.inverted,h=t.below||t.plotY>n(this.translatedThreshold,e.plotSizeY),c=this.options.stacking||r.inside;t.shapeArgs&&(u=o(t.shapeArgs),s&&(u={x:e.plotWidth-u.y-u.height,y:e.plotHeight-u.x-u.width,width:u.height,height:u.width}),!c)&&(s?(u.x+=h?0:u.width,u.width=0):(u.y+=h?u.height:0,u.height=0));r.align=n(r.align,!s||c?"center":h?"right":"left");r.verticalAlign=n(r.verticalAlign,s||c?"middle":h?"top":"bottom");d.prototype.alignDataLabel.call(this,t,i,r,u,f)},animate:function(n){var r=this,f=r.points,u=r.options;n||(t(f,function(n){var t=n.graphic,n=n.shapeArgs,f=r.yAxis,e=u.threshold;t&&(t.attr({height:0,y:i(e)?f.getThreshold(e):f.translate(f.getExtremes().min,0,1,0,1)}),t.animate({height:n.height,y:n.y},u.animation))}),r.animate=null)},remove:function(){var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)});d.prototype.remove.apply(n,arguments)}});ct.column=pt;ot.bar=o(ot.column);si=at(pt,{type:"bar",inverted:!0});ct.bar=si;ot.scatter=o(yt,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}<\/span><br/>',pointFormat:"x: <b>{point.x}<\/b><br/>y: <b>{point.y}<\/b><br/>"}});si=at(d,{type:"scatter",sorted:!1,requireSorting:!1,translate:function(){var n=this;d.prototype.translate.apply(n);t(n.points,function(t){t.shapeType="circle";t.shapeArgs={x:t.plotX,y:t.plotY,r:n.chart.options.tooltip.snap}})},drawTracker:function(){for(var n=this,t=n.options.cursor,t=t&&{cursor:t},i=n.points,r=i.length,u,f=n.markerGroup,o=function(t){n.onMouseOver();t.target._i!==e&&i[t.target._i].onMouseOver()};r--;)(u=i[r].graphic)&&(u.element._i=r);if(n._hasTracking)n._hasTracking=!0;else if(f.attr({isTracker:!0}).on("mouseover",o).on("mouseout",function(){n.options.stickyTracking||n.onMouseOut()}).css(t),wi)f.on("touchstart",o)},setTooltipPoints:ei});ct.scatter=si;ot.pie=o(yt,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}});ei={type:"pie",isCartesian:!1,pointClass:at(ir,{init:function(){ir.prototype.init.apply(this,arguments);var t=this,i;return f(t,{visible:t.visible!==!1,name:n(t.name,"Slice")}),i=function(){t.slice()},p(t,"select",i),p(t,"unselect",i),t},setVisible:function(n){var i=this.series,r=i.chart,u=this.tracker,f=this.dataLabel,o=this.connector,s=this.shadowGroup,t;t=(this.visible=n=n===e?!this.visible:n)?"show":"hide";this.group[t]();u&&u[t]();f&&f[t]();o&&o[t]();s&&s[t]();this.legendItem&&r.legend.colorizeItem(this,n);!i.isDirty&&i.options.ignoreHiddenPoint&&(i.isDirty=!0,r.redraw())},slice:function(t,r,u){var f=this.series.chart,e=this.slicedTranslation;ai(u,f);n(r,!0);t=this.sliced=i(t)?t:!this.sliced;t={translateX:t?e[0]:f.plotLeft,translateY:t?e[1]:f.plotTop};this.group.animate(t);this.shadowGroup&&this.shadowGroup.animate(t)}}),requireSorting:!1,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var n=this,i=n.startAngleRad;t(n.points,function(t){var r=t.graphic,t=t.shapeArgs;r&&(r.attr({r:n.center[3]/2,start:i,end:i}),r.animate({r:t.r,start:t.start,end:t.end},n.options.animation))});n.animate=null},setData:function(t,i){d.prototype.setData.call(this,t,!1);this.processData();this.generatePoints();n(i,!0)&&this.chart.redraw()},getCenter:function(){var n=this.options,t=this.chart,i=t.plotWidth,r=t.plotHeight,n=n.center.concat([n.size,n.innerSize||0]),u=g(i,r),f;return yr(n,function(n,t){return(f=/%$/.test(n))?[i,r,u,u][t]*h(n)/100:n})},translate:function(){this.generatePoints();var h=0,l=0,u=this.options,a=u.slicedOffset,y=a+u.borderWidth,n,p=this.chart,f,e,t,w=this.startAngleRad=pi/180*((u.startAngle||0)%360-90),v=this.points,c=2*pi,s=u.dataLabels.distance,k=u.ignoreHiddenPoint,o,d=v.length,i;for(this.center=n=this.getCenter(),this.getX=function(i,r){return t=b.asin((i-n[1])/(n[2]/2+s)),n[0]+(r?-1:1)*ft(t)*(n[2]/2+s)},o=0;o<d;o++)i=v[o],h+=k&&!i.visible?0:i.y;for(o=0;o<d;o++)i=v[o],u=h?i.y/h:0,f=r((w+l*c)*1e3)/1e3,(!k||i.visible)&&(l+=u),e=r((w+l*c)*1e3)/1e3,i.shapeType="arc",i.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:f,end:e},t=(e+f)/2,t>.75*c&&(t-=2*pi),i.slicedTranslation=yr([ft(t)*a+p.plotLeft,ht(t)*a+p.plotTop],r),f=ft(t)*n[2]/2,e=ht(t)*n[2]/2,i.tooltipPos=[n[0]+f*.7,n[1]+e*.7],i.half=t<c/4?0:1,i.angle=t,i.labelPos=[n[0]+f+ft(t)*s,n[1]+e+ht(t)*s,n[0]+f+ft(t)*y,n[1]+e+ht(t)*y,n[0]+f,n[1]+e,s<0?"center":i.half?"right":"left",t],i.percentage=u*100,i.total=h;this.setTooltipPoints()},render:function(){this.getAttribs();this.drawPoints();this.options.enableMouseTracking!==!1&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();this.isDirty=!1},drawPoints:function(){var r=this,o=r.chart,s=o.renderer,i,u,e,c=r.options.shadow,n,h;t(r.points,function(t){u=t.graphic;h=t.shapeArgs;e=t.group;n=t.shadowGroup;c&&!n&&(n=t.shadowGroup=s.g("shadow").attr({zIndex:4}).add());e||(e=t.group=s.g("point").attr({zIndex:5}).add());i=t.sliced?t.slicedTranslation:[o.plotLeft,o.plotTop];e.translate(i[0],i[1]);n&&n.translate(i[0],i[1]);u?u.animate(h):t.graphic=u=s.arc(h).setRadialReference(r.center).attr(f(t.pointAttr[""],{"stroke-linejoin":"round"})).add(t.group).shadow(c,n);t.visible===!1&&t.setVisible(!1)})},drawDataLabels:function(){var b=this.data,e,it=this.chart,l=this.options.dataLabels,rt=n(l.connectorPadding,10),ut=n(l.connectorWidth,1),o,i,ot=n(l.softConnector,!0),y=l.distance,g=this.center,nt=g[2]/2,ft=g[1],st=y>0,p=[[],[]],s,u,c,w=2,r,et=function(n,t){return t.y-n.y},ht=function(n,t){n.sort(function(n,i){return(i.angle-n.angle)*t})};if(l.enabled||this._hasPointLabels)for(d.prototype.drawDataLabels.apply(this),t(b,function(n){n.dataLabel&&p[n.half].push(n)}),b=p[0][0]&&p[0][0].dataLabel&&(p[0][0].dataLabel.getBBox().height||21);w--;){var h=[],tt=[],a=p[w],v=a.length,f;if(ht(a,w-.5),y>0){for(r=ft-nt-y;r<=ft+nt+y;r+=b)h.push(r);if(c=h.length,v>c){for(i=[].concat(a),i.sort(et),r=v;r--;)i[r].rank=r;for(r=v;r--;)a[r].rank>=c&&a.splice(r,1);v=a.length}for(r=0;r<v;r++){for(e=a[r],i=e.labelPos,e=9999,u=0;u<c;u++)o=k(h[u]-i[1]),o<e&&(e=o,f=u);if(f<r&&h[r]!==null)f=r;else for(c<v-r+f&&h[r]!==null&&(f=c-v+r);h[f]===null;)f++;tt.push({i:f,y:h[f]});h[f]=null}tt.sort(et)}for(r=0;r<v;r++)e=a[r],i=e.labelPos,o=e.dataLabel,c=e.visible===!1?"hidden":"visible",s=i[1],y>0?(u=tt.pop(),f=u.i,u=u.y,s>u&&h[f+1]!==null||s<u&&h[f-1]!==null)&&(u=s):u=s,s=l.justify?g[0]+(w?-1:1)*(nt+y):this.getX(f===0||f===h.length-1?s:u,w),o.attr({visibility:c,align:i[6]})[o.moved?"animate":"attr"]({x:s+l.x+({left:rt,right:-rt}[i[6]]||0),y:u+l.y-10}),o.moved=!0,st&&ut&&(o=e.connector,i=ot?["M",s+(i[6]==="left"?5:-5),u,"C",s,u,2*i[2]-i[4],2*i[3]-i[5],i[2],i[3],"L",i[4],i[5]]:["M",s+(i[6]==="left"?5:-5),u,"L",i[2],i[3],"L",i[4],i[5]],o?(o.animate({d:i}),o.attr("visibility",c)):e.connector=o=this.chart.renderer.path(i).attr({"stroke-width":ut,stroke:l.connectorColor||e.color||"#606060",visibility:c,zIndex:3}).translate(it.plotLeft,it.plotTop).add())}},alignDataLabel:ei,drawTracker:pt.prototype.drawTracker,drawLegendSymbol:v.prototype.drawLegendSymbol,getSymbol:function(){}};ei=at(d,ei);ct.pie=ei;f(Highcharts,{Axis:hu,CanVGRenderer:eu,Chart:vu,Color:kt,Legend:au,MouseTracker:lu,Point:ir,Tick:or,Tooltip:cu,Renderer:hr,Series:d,SVGRenderer:dt,VMLRenderer:gt,arrayMin:di,arrayMax:li,charts:tr,dateFormat:dr,pathAnim:pu,getOptions:function(){return nt},hasBidiBug:ne,isTouchDevice:lf,numberFormat:ur,seriesTypes:ct,setOptions:function(n){return nt=o(nt,n),sf(),nt},addEvent:p,removeEvent:it,createElement:rt,discardElement:fr,css:y,each:t,extend:f,map:yr,merge:o,pick:n,splat:ri,extendClass:at,pInt:h,wrap:function(n,t,i){var r=n[t];n[t]=function(){var n=Array.prototype.slice.call(arguments);return n.unshift(r),i.apply(this,n)}},svg:vt,canvas:et,vml:!vt&&!et,product:"Highcharts",version:"2.3.5"})})()});