/*! weimob_vshop_admin
*author:<a.b.c@hd3p.com> */
define("dist/tips/init",["$","./bootbox","./notify","jquery"],function(a){"use strict";function b(a){window.mainFrame?document.getElementById("mainFrame").src=a:window.location=a}function c(a,c,g,h){var i=null;if(c.length>17)return void e.alert(c,function(){g&&b(g)});var j=d.extend({},{message:{text:c},onClose:h||g&&function(){b(g)}},a);i=f.notify(j),i.show(),g&&d(window.mainFrame.document||document).on("click",function(a){a&&a.preventDefault(),i.close()})}var d=a("$"),e=a("./bootbox");window.msgbox=e,0==d("div.msgbox").length&&d("body").append('<div class="msgbox"></div>'),a("./notify");var f=d("div.msgbox");return{redirect:function(a){b(a)},msgbox:e,suc:function(a,b,d){c({fadeOut:{enabled:!0,delay:1e3},type:"success"},a,b,d)},error:function(a,b,d){c({type:"danger",closable:!0,fadeOut:{enabled:!0,delay:3e3}},a,b,d)},info:function(a,b,d){c({closable:!0,fadeOut:{enabled:!0,delay:3e3},type:"info"},a,b,d)}}}),define("dist/tips/bootbox",["$"],function(a,b){"use strict";function c(a){var b=p[o.locale];return b?b[a]:p.en[a]}function d(a,b,c){a.stopPropagation(),a.preventDefault();var d=m.isFunction(c)&&c(a)===!1;d||b.modal("hide")}function e(a){var b,c=0;for(b in a)c++;return c}function f(a,b){var c=0;m.each(a,function(a,d){b(a,d,c++)})}function g(a){var b,c;if("object"!=typeof a)throw new Error("Please supply an object of options");if(!a.message)throw new Error("Please specify a message");return a=m.extend({},o,a),a.buttons||(a.buttons={}),a.backdrop=a.backdrop?"static":!1,b=a.buttons,c=e(b),f(b,function(a,c,d){if(m.isFunction(c)&&(c=b[a]={callback:c}),"object"!==m.type(c))throw new Error("button with key "+a+" must be an object");c.label||(c.label=a),c.className||(c.className=0==d?"btn-primary":"btn-default")}),a}function h(a,b){var c=a.length,d={};if(1>c||c>2)throw new Error("Invalid argument length");return 2===c||"string"==typeof a[0]?(d[b[0]]=a[0],d[b[1]]=a[1]):d=a[0],d}function i(a,b,c){return m.extend(!0,{},a,h(b,c))}function j(a,b,c,d){var e={className:"bootbox-"+a,buttons:k.apply(null,b)};return l(i(e,d,c),b)}function k(){for(var a={},b=0,d=arguments.length;d>b;b++){var e=arguments[b],f=e.toLowerCase(),g=e.toUpperCase();a[f]={label:c(g)}}return a}function l(a,b){var c={};return f(b,function(a,b){c[b]=!0}),f(a.buttons,function(a){if(void 0===c[a])throw new Error("button key "+a+" is not allowed (options are "+b.join("\n")+")")}),a}var m=a("$"),n={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},o={locale:"zh_CN",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},b={};b.alert=function(){var a;if(a=j("alert",["ok"],["message","callback"],arguments),a.callback&&!m.isFunction(a.callback))throw new Error("alert requires callback property to be a function when provided");return a.buttons.ok.callback=a.onEscape=function(){return m.isFunction(a.callback)?a.callback():!0},b.dialog(a)},b.confirm=function(){var a;if(a=j("confirm",["confirm","cancel"],["message","callback"],arguments),a.buttons.cancel.callback=a.onEscape=function(){return a.callback(!1)},a.buttons.confirm.callback=function(){return a.callback(!0)},!m.isFunction(a.callback))throw new Error("confirm requires a callback");return b.dialog(a)},b.prompt=function(){var a,c,d,e,g,h,j;if(e=m(n.form),c={className:"bootbox-prompt",buttons:k("confirm","cancel"),value:"",inputType:"text"},a=l(i(c,arguments,["title","callback"]),["confirm","cancel"]),h=void 0===a.show?!0:a.show,a.message=e,a.buttons.cancel.callback=a.onEscape=function(){return a.callback(null)},a.buttons.confirm.callback=function(){var b;switch(a.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":b=g.val();break;case"checkbox":var c=g.find("input:checked");b=[],f(c,function(a,c){b.push(m(c).val())})}return a.callback(b)},a.show=!1,!a.title)throw new Error("prompt requires a title");if(!m.isFunction(a.callback))throw new Error("prompt requires a callback");if(!n.inputs[a.inputType])throw new Error("invalid prompt type");switch(g=m(n.inputs[a.inputType]),a.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":g.val(a.value);break;case"select":var o={};if(j=a.inputOptions||[],!j.length)throw new Error("prompt with select requires options");f(j,function(a,b){var c=g;if(void 0===b.value||void 0===b.text)throw new Error("given options in wrong format");b.group&&(o[b.group]||(o[b.group]=m("<optgroup/>").attr("label",b.group)),c=o[b.group]),c.append("<option value='"+b.value+"'>"+b.text+"</option>")}),f(o,function(a,b){g.append(b)}),g.val(a.value);break;case"checkbox":var p=m.isArray(a.value)?a.value:[a.value];if(j=a.inputOptions||[],!j.length)throw new Error("prompt with checkbox requires options");if(!j[0].value||!j[0].text)throw new Error("given options in wrong format");g=m("<div/>"),f(j,function(b,c){var d=m(n.inputs[a.inputType]);d.find("input").attr("value",c.value),d.find("label").append(c.text),f(p,function(a,b){b===c.value&&d.find("input").prop("checked",!0)}),g.append(d)})}return a.placeholder&&g.attr("placeholder",a.placeholder),a.pattern&&g.attr("pattern",a.pattern),e.append(g),e.on("submit",function(a){a.preventDefault(),a.stopPropagation(),d.find(".btn-primary").click()}),d=b.dialog(a),d.off("shown.bs.modal"),d.on("shown.bs.modal",function(){g.focus()}),h===!0&&d.modal("show"),d},b.dialog=function(a){a=g(a);var b=m(n.dialog),c=b.find(".modal-dialog"),e=b.find(".modal-body"),h=a.buttons,i="",j={onEscape:a.onEscape};if(f(h,function(a,b){i+="<button data-bb-handler='"+a+"' type='button' class='btn "+b.className+"'>"+b.label+"</button>",j[a]=b.callback}),e.find(".bootbox-body").html(a.message),a.animate===!0&&b.addClass("fade"),a.className&&b.addClass(a.className),"large"===a.size&&c.addClass("modal-lg"),"small"===a.size&&c.addClass("modal-sm"),a.title&&e.before(n.header),a.closeButton){var k=m(n.closeButton);a.title?b.find(".modal-header").prepend(k):k.css("margin-top","-10px").prependTo(e)}return a.title&&b.find(".modal-title").html(a.title),i.length&&(e.after(n.footer),b.find(".modal-footer").html(i)),b.on("hidden.bs.modal",function(a){a.target===this&&b.remove()}),b.on("shown.bs.modal",function(){b.find(".btn-primary:first").focus()}),b.on("escape.close.bb",function(a){j.onEscape&&d(a,b,j.onEscape)}),b.on("click",".modal-footer button",function(a){var c=m(this).data("bb-handler");d(a,b,j[c])}),b.on("click",".bootbox-close-button",function(a){d(a,b,j.onEscape)}),b.on("keyup",function(a){27===a.which&&b.trigger("escape.close.bb")}),m(a.container).append(b),b.modal({backdrop:a.backdrop,keyboard:!1,show:!1}),a.show&&b.modal("show"),b},b.setDefaults=function(){var a={};2===arguments.length?a[arguments[0]]=arguments[1]:a=arguments[0],m.extend(o,a)},b.hideAll=function(){return m(".bootbox").modal("hide"),b};var p={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},zh_CN:{OK:"确认",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return b.init=function(a){return init(a||m)},b}),define("dist/tips/notify",["jquery"],function(a){a("jquery");!function(a){var b=function(b,d){if(this.$element=a(b),this.$note=a('<div class="msg alert"></div>'),this.options=a.extend(!0,{},a.fn.notify.defaults,d),this.options.transition?"fade"==this.options.transition?this.$note.addClass("in").addClass(this.options.transition):this.$note.addClass(this.options.transition):this.$note.addClass("fade").addClass("in"),this.$note.addClass(this.options.type?"alert-"+this.options.type:"alert-success"),this.options.message||""===this.$element.data("message")?"object"==typeof this.options.message&&(this.options.message.html?this.$note.html(this.options.message.html):this.options.message.text?this.$note.text(this.options.message.text):this.$note.html(this.options.message)):this.$note.html(this.$element.data("message")),this.options.closable)var e=a('<a class="close pull-right" href="javascript:;">&times;</a>');return a(e).on("click",a.proxy(c,this)),this.$note.prepend(e),this},c=function(){return this.options.onClose&&this.options.onClose(),a(this.$note).remove(),this.options.onClosed(),!1};b.prototype.show=function(){this.options.fadeOut.enabled&&this.$note.delay(this.options.fadeOut.delay||3e3).fadeOut("slow",a.proxy(c,this)),this.$element.empty(),this.$element.append(this.$note),this.$note.alert()},b.prototype.hide=function(){this.options.fadeOut.enabled?this.$note.delay(this.options.fadeOut.delay||3e3).fadeOut("slow",a.proxy(c,this)):c.call(this)},b.prototype.close=function(){c.call(this)},a.fn.notify=function(a){return new b(this,a)},a.fn.notify.defaults={type:"success",closable:!1,transition:"fade",fadeOut:{enabled:!0,delay:2e3},message:null,onClose:function(){},onClosed:function(){}}}(window.jQuery)});